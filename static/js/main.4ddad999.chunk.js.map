{"version":3,"sources":["styling/theme.js","styling/GlobalStyles.js","api/firebase.js","redux/headlines.js","redux/auth.js","redux/addFeed.js","redux/scrapers.js","redux/store.js","components/App/Header/HeaderStyle.js","components/App/Header/Components/SignOutButton/SignOutButton.js","components/App/Header/Components/AddNewFeedButton/AddNewFeedButton.js","components/App/Header/Components/CancelNewFeedButton/CancelNewFeedButton.js","components/App/Header/Components/NewFeedInstructions/PrevButton.js","components/App/Header/Components/NewFeedInstructions/NextButton.js","components/App/Header/Components/NewFeedInstructions/NewFeedInstructionsStyle.js","components/App/Header/Components/NewFeedInstructions/NewFeedInstructions.js","components/App/Header/Components/EditFeedsButton/EditFeedsButton.js","components/App/Header/Components/CancelEditFeedsButton/CancelEditFeedsButton.js","components/App/Header/Header.js","components/App/NewFeed/NewFeedMenusStyle.js","components/App/NewFeed/NewFeedStartMenu/NewFeedStartMenuStyle.js","components/App/NewFeed/NewFeedStartMenu/NewFeedStartMenu.js","components/App/NewFeed/NewFeedOptions/NewFeedOptionsStyle.js","components/App/NewFeed/NewFeedOptions/NewFeedOptions.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesList/headline/DesktopCard/DesktopCardStyle.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesList/headline/Delete/Delete.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesList/headline/DesktopCard/DesktopCard.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesList/headline/MobileCard/MobileCardStyle.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesList/headline/MobileCard/MobileCard.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesList/headline/Card.js","components/App/NewFeed/NewFeedPreview/NewFeedPreviewStyle.js","components/App/NewFeed/NewFeedPreview/NewFeedPreview.js","components/App/NewFeed/NewFeedMenus.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesWrapperStyle.js","globalHooks/useContainerHeight.js","globalHooks/useWindowResize.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesList/HeadlinesList.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesWrapper.js","components/App/SiteBody/ExternalSite/searchFunctions.js","components/App/SiteBody/ExternalSite/ExternalSite.js","components/App/SiteBody/ExternalSite/useSearchNodes.js","components/App/SiteBody/EditFeeds/Table/TableStyle.js","components/App/SiteBody/EditFeeds/Delete.js","components/App/SiteBody/EditFeeds/Table/TableData/TableData.js","components/App/SiteBody/EditFeeds/Table/TableHeader/TableHeader.js","components/App/SiteBody/EditFeeds/Table/Table.js","components/App/SiteBody/EditFeeds/Table/useColumns.js","components/App/SiteBody/EditFeeds/MobileCards/MobileCard/MobileCardStyle.js","components/App/SiteBody/EditFeeds/MobileCards/MobileCard/MobileCard.js","components/App/SiteBody/EditFeeds/MobileCards/MobileCards.js","components/App/SiteBody/EditFeeds/EditFeedsStyle.js","components/App/SiteBody/EditFeeds/EditFeeds.js","components/App/SiteBody/useHeadlines.js","components/App/SiteBody/useScrapers.js","components/App/SiteBody/SiteBody.js","components/AuthLayer/Auth/authStyle.js","components/AuthLayer/Auth/Components/FormErrors.js","components/AuthLayer/Auth/Components/Login.js","components/AuthLayer/Auth/Components/PasswordCheck.js","components/AuthLayer/Auth/Components/Register.js","components/AuthLayer/Auth/Components/ForgotPassword.js","components/AuthLayer/Auth/Components/ForgotPasswordCheckEmail.js","components/AuthLayer/Auth/Components/ForgotPasswordVerify.js","components/AuthLayer/Auth/Components/ChangePasswordConfirm.js","components/AuthLayer/Auth/AuthMain.js","index.js","styling/Styling.js","components/AuthLayer/AuthLayer.js","components/App/App.js"],"names":["topShadow","bottomShadow","primaryColor","GlobalStyles","createGlobalStyle","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","lastVisible","loading","authApi","auth","dbApi","firestore","getHtml","app","functions","httpsCallable","createSlice","name","initialState","user","isAuth","reducers","setUser","state","action","payload","authorise","deauthorise","actions","signUp","username","password","a","createUserWithEmailAndPassword","signIn","signInWithEmailAndPassword","forgotPassword","email","sendPasswordResetEmail","confirmNewPassword","code","confirmPasswordReset","menu","showHtml","domain","html","previewData","selectors","status","finished","addFeed","enableAddFeed","closeMenu","options","setDomain","setUrl","url","setName","setHtml","reset","Object","keys","forEach","key","setPreviewData","setSelectors","setOptions","setStatus","prevStatus","enabledPreview","setFinished","getDomain","match","formatUrl","newUrl","toLowerCase","startsWith","fetchWebsite","dispatch","link","result","data","error","htmlBody","nextStatus","getState","currentStatus","headlinesAdapter","createEntityAdapter","sortComparer","b","date","getInitialState","headlines","addHeadline","upsertOne","setLoaded","deleteOne","removeOne","selectAllHeadlines","getSelectors","selectAll","scrapersAdapter","editFeeds","scrapers","addScraper","enableEditFeed","disabledEditFeed","selectAllScrapers","configureStore","reducer","HeaderContainer","styled","div","props","isDesktop","theme","StyledIconButton","IconButton","enabled","CancelButtonContainer","FeedMenuContainer","SignOutButton","useDispatch","onSignOut","signOut","console","log","Tooltip","title","onClick","fontSize","AddNewFeedButton","CancelNewFeedButton","NextButton","disabled","Text","Container","message","1","2","3","4","NewFeedInstructions","useSelector","EditFeedsButton","CancelEditFeedsButton","Header","showEditFeeds","useMediaQuery","Backdrop","SubContainer","addedHeight","Field","Title","Button","button","Form","form","InputField","Input","input","ErrorBox","MessageContainer","height","Warning","styleIcon","Component","StyledInsertLinkIcon","InsertLinkIcon","StyledBookmarkIcon","BookmarkIcon","NewFeedStartMenu","useState","setError","submitEnabled","setSubmitEnabled","setAddedHeight","setLoading","handleSubmit","e","preventDefault","setTimeout","handleCancel","onPointerDown","stopPropagation","autoComplete","type","id","placeholder","value","onChange","event","target","required","CircularProgress","size","OptionsBody","OptionNum","Image","img","StyledNavButton","NewFeedOptions","option","setOption","index","useRef","length","current","style","position","left","src","path","selectOption","TextContainer","Summary","Name","DateContainer","Delete","collection","doc","update","hide","deleteHeadline","DesktopCard","headline","window","open","image","summary","moment","format","MobileContainer","MobileImage","MobileTextContainer","MobileTitle","MobileSummary","MobileName","MobileDateContainer","MobileCard","Card","PreviewContainer","Error","Success","NewFeedPreview","success","setSuccess","add","apiError","NewFeedMenus","start","preview","ListContainer","NoContent","useContainerHeight","selector","callback","setHeight","updateHeight","useCallback","document","querySelector","offsetHeight","useEffect","addEventListener","removeEventListener","InnerElement","className","HeadlinesList","hasNextPage","itemCount","isItemLoaded","Item","loadMoreItems","where","orderBy","startAfter","limit","get","then","querySnapshot","docs","catch","threshold","onItemsRendered","ref","itemSize","width","innerElementType","HeadlinesWrapper","location","origin","optionsMap","targetDomain","originalNode","searchFunction","searchType","textSearch","node","href","slice","typeMap","innerText","trim","getPath","unique","replace","getOptions","targetDomainArg","checkNode","push","children","i","parentNode","values","ExternalSiteContainer","ExternalSite","targetNode","useSearchNodes","renderHTML","StyledTable","Cell","minWidth","TableHeaderCell","TableCell","Row","AlignCenter","StyledDelete","DeleteForeverIcon","delete","deleteScraper","TableData","columns","scraper","map","column","dataType","transformData","TableHeader","Table","useMemo","col","color","DeleteContainer","lastScrape","scrapeFail","MobileCards","EditFeeds","useHeadlines","onSnapshot","useScrapers","SiteBody","slideUp","LogoContainer","AuthMessageBox","ConfirmChangeContainer","AuthErrorBox","pass","StyledLink","Link","ForgotPasswordHeader","AuthForm","AuthInput","AuthButton","AuthRedirectText","AuthCheck","styleLoginIcon","FormErrors","formErrors","StyledMailOutlineIcon","MailOutlineIcon","StyledLockIcon","LockIcon","Login","onSuccess","setUsername","setPassword","errors","setErrors","onSubmit","to","PasswordCheck","onSetSubmitEnabled","lowerCaseCheck","setLowerCaseCheck","upperCaseCheck","setUpperCaseCheck","numberCheck","setNumberCheck","lengthCheck","setLengthCheck","setPass","regex","localLowerCaseCheck","test","localUpperCaseCheck","localNumberCheck","localLengthCheck","check","Register","history","submitted","setSubmitted","ForgotPassword","setEmail","forgotPasswordHandler","ForgotPasswordCheckEmail","ForgotPasswordVerify","verificationCode","setVerificationCode","newPassword","setNewPassword","passwordVerificationHandler","search","ChangePasswordConfirm","AuthMain","setSlideUp","exact","render","component","ReactDOM","StylesProvider","injectFirst","CssBaseline","store","init","onAuthStateChanged","uid","getElementById"],"mappings":"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","file":"static/js/main.4ddad999.chunk.js","sourcesContent":["export default {\r\n  topShadow: \"#cbced1\",\r\n  bottomShadow: \"#ffffff\",\r\n  primaryColor: \"rgb(10, 144, 197)\",\r\n};\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport const GlobalStyles = createGlobalStyle`\r\n\r\nbody {\r\n  margin: 0;\r\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\",\r\n    \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\",\r\n    sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  overflow: hidden;\r\n  color: rgb(10, 144, 197);\r\n  padding: 0;\r\n  min-height: 100vh;\r\n  width: 100vw;\r\n  background-color: #ecf0f3;\r\n}\r\n:root{\r\n  overflow: hidden !important;\r\n  box-sizing: border-box;\r\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\",\r\n    \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\",\r\n    sans-serif;\r\n  margin: 0;\r\n  padding: 0;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  max-width: 100vw;\r\n}\r\ncode {\r\n  font-family: source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",\r\n    monospace;\r\n}\r\ninput:-webkit-autofill,\r\ninput:-webkit-autofill:hover,\r\ninput:-webkit-autofill:focus,\r\ninput:-webkit-autofill:active {\r\n  -webkit-box-shadow: 0 0 0 30px #ecf0f3 inset !important;\r\n  -webkit-text-fill-color: rgb(10, 144, 197) !important;\r\n}\r\na {\r\n  text-decoration: none;\r\n}\r\n`;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/functions\";\r\n\r\nfirebase.initializeApp({\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\r\n});\r\n\r\nexport const authApi = firebase.auth();\r\nexport const dbApi = firebase.firestore();\r\nconst functionsApi = firebase.app().functions(\"europe-west2\");\r\n\r\n// dbApi.useEmulator(\"localhost\", 8080);\r\n// functionsApi.useEmulator(\"localhost\", 5001);\r\n\r\nexport const getHtml = functionsApi.httpsCallable(\"getHTML\");\r\n","import { createSlice, createEntityAdapter } from \"@reduxjs/toolkit\";\r\nimport { dbApi } from \"../api/firebase\";\r\n\r\nlet lastVisible;\r\nlet loading;\r\nconst headlinesAdapter = createEntityAdapter({\r\n  sortComparer: (a, b) => b.date - a.date,\r\n});\r\n\r\nexport const initialState = headlinesAdapter.getInitialState({\r\n  loading: true,\r\n  finished: false,\r\n});\r\n\r\nconst headlines = createSlice({\r\n  name: \"headlines\",\r\n  initialState,\r\n  reducers: {\r\n    addHeadline(state, action) {\r\n      headlinesAdapter.upsertOne(state, action.payload);\r\n    },\r\n    setFinished(state) {\r\n      state.finished = true;\r\n    },\r\n    setLoaded(state) {\r\n      state.loading = false;\r\n    },\r\n    deleteOne(state, action) {\r\n      headlinesAdapter.removeOne(state, action.payload);\r\n    },\r\n  },\r\n});\r\n\r\nexport const { addHeadline, setFinished, setLoaded, deleteOne } =\r\n  headlines.actions;\r\n\r\nexport const { selectAll: selectAllHeadlines } = headlinesAdapter.getSelectors(\r\n  (state) => state.headlines\r\n);\r\n\r\nexport default headlines.reducer;\r\n\r\nexport const subscribeToHeadlines = () => async (dispatch, getState) => {\r\n  const user = getState().auth.user;\r\n  dbApi\r\n    .collection(\"headlines\")\r\n    .where(\"user\", \"==\", user)\r\n    .where(\"hide\", \"==\", false)\r\n    .orderBy(\"date\", \"desc\")\r\n    .limit(5)\r\n    .onSnapshot((querySnapshot) => {\r\n      if (!querySnapshot.size) {\r\n        dispatch(setFinished());\r\n        dispatch(setLoaded());\r\n        return;\r\n      }\r\n      querySnapshot.forEach((doc) => {\r\n        dispatch(addHeadline({ id: doc.id, ...doc.data() }));\r\n      });\r\n      if (!lastVisible) {\r\n        lastVisible = querySnapshot.docs[querySnapshot.docs.length - 1];\r\n      }\r\n      dispatch(setLoaded());\r\n    });\r\n};\r\n\r\nexport const getNewHeadlines = () => async (dispatch, getState) => {\r\n  if (loading || !lastVisible) return;\r\n  loading = true;\r\n  const user = getState().auth.user;\r\n  dbApi\r\n    .collection(\"headlines\")\r\n    .where(\"user\", \"==\", user)\r\n    .where(\"hide\", \"==\", false)\r\n    .orderBy(\"date\", \"desc\")\r\n    .startAfter(lastVisible)\r\n    .limit(5)\r\n    .get()\r\n    .then((querySnapshot) => {\r\n      querySnapshot.forEach((doc) => {\r\n        dispatch(addHeadline({ id: doc.id, ...doc.data() }));\r\n      });\r\n      lastVisible = querySnapshot.docs[querySnapshot.docs.length - 1];\r\n      if (querySnapshot.size < 5) dispatch(setFinished());\r\n      loading = false;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"Error getting documents: \", error);\r\n    });\r\n};\r\nexport const deleteHeadline = (id) => async (dispatch) => {\r\n  dbApi.collection(\"headlines\").doc(id).update({ hide: true });\r\n  dispatch(deleteOne(id));\r\n};\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { authApi } from \"../api/firebase\";\r\n\r\nexport const initialState = {\r\n  user: null,\r\n  isAuth: false,\r\n};\r\nconst auth = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  reducers: {\r\n    setUser(state, action) {\r\n      state.user = action.payload;\r\n    },\r\n    authorise(state) {\r\n      state.isAuth = true;\r\n    },\r\n    deauthorise(state) {\r\n      state.isAuth = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setUser, authorise, deauthorise } = auth.actions;\r\n\r\nexport default auth.reducer;\r\n\r\nexport const signUp = (username, password) => async () => {\r\n  return authApi.createUserWithEmailAndPassword(username, password);\r\n};\r\nexport const signIn = (username, password) => async () => {\r\n  return authApi.signInWithEmailAndPassword(username, password);\r\n};\r\nexport const signOut = () => async () => {\r\n  return authApi.signOut();\r\n};\r\nexport const forgotPassword = (email) => async () => {\r\n  return authApi.sendPasswordResetEmail(email);\r\n};\r\nexport const confirmNewPassword = (code, password) => async () => {\r\n  return authApi.confirmPasswordReset(code, password);\r\n};\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { getHtml, dbApi } from \"../api/firebase\";\r\n\r\nexport const initialState = {\r\n  menu: null,\r\n  showHtml: false,\r\n  domain: \"\",\r\n  html: \"\",\r\n  previewData: {},\r\n  selectors: {},\r\n  status: 1,\r\n  finished: false,\r\n};\r\n\r\nconst addFeed = createSlice({\r\n  name: \"addFeed\",\r\n  initialState,\r\n  reducers: {\r\n    enableAddFeed(state) {\r\n      state.menu = \"start\";\r\n    },\r\n    closeMenu(state) {\r\n      state.options = [];\r\n      state.menu = null;\r\n    },\r\n    setDomain(state, action) {\r\n      state.domain = action.payload;\r\n    },\r\n    setUrl(state, action) {\r\n      state.selectors = { ...state.selectors, url: action.payload };\r\n    },\r\n    setName(state, action) {\r\n      state.previewData = { ...state.previewData, name: action.payload };\r\n      state.selectors = { ...state.selectors, name: action.payload };\r\n    },\r\n    setHtml(state, action) {\r\n      state.html = action.payload;\r\n      state.showHtml = true;\r\n    },\r\n    reset(state) {\r\n      Object.keys(state).forEach((key) => (state[key] = initialState[key]));\r\n    },\r\n    setPreviewData(state, action) {\r\n      state.previewData = { ...state.previewData, ...action.payload };\r\n    },\r\n    setSelectors(state, action) {\r\n      state.selectors = { ...state.selectors, ...action.payload };\r\n    },\r\n    setOptions(state, action) {\r\n      state.options = action.payload;\r\n      state.menu = \"options\";\r\n    },\r\n    setStatus(state, action) {\r\n      state.status = action.payload;\r\n    },\r\n    prevStatus(state) {\r\n      state.status -= 1;\r\n    },\r\n    enabledPreview(state) {\r\n      state.menu = \"preview\";\r\n    },\r\n    setFinished(state) {\r\n      state.finished = true;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  enableAddFeed,\r\n  closeMenu,\r\n  setDomain,\r\n  setUrl,\r\n  setName,\r\n  setHtml,\r\n  reset,\r\n  setPreviewData,\r\n  setSelectors,\r\n  setOptions,\r\n  setStatus,\r\n  prevStatus,\r\n  enabledPreview,\r\n  setFinished,\r\n} = addFeed.actions;\r\n\r\nexport default addFeed.reducer;\r\n\r\nconst getDomain = (url) => {\r\n  const regex = /^(?:https?:\\/\\/)?(?:[^@/\\n]+@)?(?:www.)?([^:/?\\n]+)/gi;\r\n  return url.match(regex)[0];\r\n};\r\n\r\nconst formatUrl = (url) => {\r\n  let newUrl = url.toLowerCase();\r\n  if (newUrl.startsWith(\"www.\")) {\r\n    newUrl = \"https://\" + url;\r\n  } else if (!newUrl.startsWith(\"http\")) {\r\n    newUrl = \"https://www.\" + url;\r\n  }\r\n  return newUrl;\r\n};\r\n\r\nexport const fetchWebsite = (url, name) => async (dispatch) => {\r\n  const newUrl = formatUrl(url);\r\n  const domain = getDomain(newUrl);\r\n  dispatch(setUrl(newUrl));\r\n  dispatch(setDomain(domain));\r\n  dispatch(setName(name));\r\n\r\n  try {\r\n    const result = await getHtml({ link: url });\r\n    if (result.data.error) {\r\n      return result.data.error;\r\n    }\r\n    dispatch(setHtml(result.data.htmlBody));\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const selectOption = (option) => async (dispatch) => {\r\n  dispatch(setPreviewData({ [option.type]: option.data }));\r\n  dispatch(setSelectors({ [option.type]: option.path }));\r\n  dispatch(closeMenu());\r\n  dispatch(nextStatus());\r\n};\r\nexport const nextStatus = () => async (dispatch, getState) => {\r\n  const currentStatus = getState().addFeed.status;\r\n  if (currentStatus < 4) dispatch(setStatus(currentStatus + 1));\r\n  else dispatch(enabledPreview());\r\n};\r\n\r\nexport const submitNewScrape = () => async (dispatch, getState) => {\r\n  const user = getState().auth.user;\r\n  const domain = getState().addFeed.domain;\r\n  const selectors = getState().addFeed.selectors;\r\n  try {\r\n    await dbApi.collection(\"scrapers\").add({ ...selectors, user, domain });\r\n  } catch (error) {\r\n    console.log(error);\r\n    return error;\r\n  }\r\n  dispatch(setFinished());\r\n};\r\n\r\nexport const onClose = () => async (dispatch, getState) => {\r\n  const finished = getState().addFeed.finished;\r\n  if (finished) dispatch(reset());\r\n  else dispatch(closeMenu());\r\n};\r\n","import { createSlice, createEntityAdapter } from \"@reduxjs/toolkit\";\r\nimport { dbApi } from \"../api/firebase\";\r\n\r\nconst scrapersAdapter = createEntityAdapter({\r\n  sortComparer: (a, b) => b.date - a.date,\r\n});\r\n\r\nexport const initialState = scrapersAdapter.getInitialState({\r\n  loading: true,\r\n  editFeeds: false,\r\n});\r\n\r\nconst scrapers = createSlice({\r\n  name: \"scrapers\",\r\n  initialState,\r\n  reducers: {\r\n    addScraper(state, action) {\r\n      scrapersAdapter.upsertOne(state, action.payload);\r\n    },\r\n    setLoaded(state) {\r\n      state.loading = false;\r\n    },\r\n    deleteOne(state, action) {\r\n      scrapersAdapter.removeOne(state, action.payload);\r\n    },\r\n    enableEditFeed(state) {\r\n      state.editFeeds = true;\r\n    },\r\n    disabledEditFeed(state) {\r\n      state.editFeeds = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  addScraper,\r\n  setLoaded,\r\n  deleteOne,\r\n  enableEditFeed,\r\n  disabledEditFeed,\r\n} = scrapers.actions;\r\n\r\nexport const { selectAll: selectAllScrapers } = scrapersAdapter.getSelectors(\r\n  (state) => state.scrapers\r\n);\r\n\r\nexport default scrapers.reducer;\r\n\r\nexport const subscribeToScrapers = () => async (dispatch, getState) => {\r\n  const user = getState().auth.user;\r\n  dbApi\r\n    .collection(\"scrapers\")\r\n    .where(\"user\", \"==\", user)\r\n    .orderBy(\"name\", \"desc\")\r\n    .onSnapshot((querySnapshot) => {\r\n      if (!querySnapshot.size) {\r\n        dispatch(setLoaded());\r\n        return;\r\n      }\r\n      querySnapshot.forEach((doc) => {\r\n        dispatch(addScraper({ id: doc.id, ...doc.data() }));\r\n      });\r\n      dispatch(setLoaded());\r\n    });\r\n};\r\n\r\nexport const deleteScraper = (id) => async (dispatch) => {\r\n  dbApi.collection(\"scrapers\").doc(id).delete();\r\n  dispatch(deleteOne(id));\r\n};\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\n\r\nimport auth from \"./auth\";\r\nimport addFeed from \"./addFeed\";\r\nimport headlines from \"./headlines\";\r\nimport scrapers from \"./scrapers\";\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    auth,\r\n    addFeed,\r\n    headlines,\r\n    scrapers,\r\n  },\r\n});\r\n","import styled from \"styled-components\";\r\nimport { IconButton } from \"@material-ui/core\";\r\n\r\nexport const HeaderContainer = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  z-index: 1;\r\n  width: ${(props) => (props.isDesktop ? \"calc(100% - 15px)\" : \"100%\")};\r\n  background-color: #ecf0f3;\r\n  height: 75px;\r\n  box-shadow: 0px 13px 20px ${({ theme }) => theme.topShadow};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const StyledIconButton = styled(IconButton)`\r\n  color: black;\r\n  box-shadow: ${(props) =>\r\n    props.enabled\r\n      ? \"inset -4px -4px 8px rgba(255, 255, 255, 0.6), inset 8px 8px 16px rgba(0, 0, 0, 0.2)\"\r\n      : \"-6px -6px 10px rgba(255, 255, 255, 0.7), 6px 6px 10px rgba(0, 0, 0, 0.3)\"};\r\n`;\r\nexport const CancelButtonContainer = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: ${(props) => (props.isDesktop ? \"flex-start\" : \"center\")};\r\n  padding: 0 15px;\r\n`;\r\n\r\nexport const FeedMenuContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 15px;\r\n`;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { signOut } from \"../../../../../redux/auth\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport { StyledIconButton } from \"../../HeaderStyle\";\r\n\r\nexport default function SignOutButton() {\r\n  const dispatch = useDispatch();\r\n  const onSignOut = async () => {\r\n    try {\r\n      await dispatch(signOut());\r\n    } catch (error) {\r\n      console.log(\"failed to logout\");\r\n    }\r\n  };\r\n  return (\r\n    <Tooltip title=\"Sign Out\">\r\n      <StyledIconButton onClick={onSignOut}>\r\n        <ExitToAppIcon fontSize=\"large\" />\r\n      </StyledIconButton>\r\n    </Tooltip>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\r\n\r\nimport { enableAddFeed } from \"../../../../../redux/addFeed\";\r\nimport { StyledIconButton } from \"../../HeaderStyle\";\r\n\r\nexport default function AddNewFeedButton() {\r\n  const dispatch = useDispatch();\r\n\r\n  const enable = () => {\r\n    dispatch(enableAddFeed());\r\n  };\r\n\r\n  return (\r\n    <Tooltip title=\"Add new feed\">\r\n      <StyledIconButton onClick={enable}>\r\n        <AddCircleOutlineIcon fontSize=\"large\" />\r\n      </StyledIconButton>\r\n    </Tooltip>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\n\r\nimport { reset } from \"../../../../../redux/addFeed\";\r\nimport { StyledIconButton, CancelButtonContainer } from \"../../HeaderStyle\";\r\n\r\nexport default function CancelNewFeedButton({ isDesktop }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const onClick = () => {\r\n    dispatch(reset());\r\n  };\r\n\r\n  return (\r\n    <CancelButtonContainer isDesktop={isDesktop}>\r\n      <Tooltip title=\"Cancel\">\r\n        <StyledIconButton onClick={onClick}>\r\n          <HighlightOffIcon fontSize=\"large\" />\r\n        </StyledIconButton>\r\n      </Tooltip>\r\n    </CancelButtonContainer>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport SkipPreviousIcon from \"@material-ui/icons/SkipPrevious\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport { StyledIconButton } from \"../../HeaderStyle\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { prevStatus } from \"../../../../../redux/addFeed\";\r\n\r\nexport default function NextButton({ disabled }) {\r\n  const dispatch = useDispatch();\r\n  const onClick = () => dispatch(prevStatus());\r\n  return (\r\n    <Tooltip title=\"Back\">\r\n      <StyledIconButton onClick={onClick} disabled={disabled}>\r\n        <SkipPreviousIcon fontSize=\"large\" />\r\n      </StyledIconButton>\r\n    </Tooltip>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\n\r\nimport { StyledIconButton } from \"../../HeaderStyle\";\r\nimport { nextStatus } from \"../../../../../redux/addFeed\";\r\n\r\nexport default function NextButton({ disabled }) {\r\n  const dispatch = useDispatch();\r\n  const onClick = () => dispatch(nextStatus());\r\n  return (\r\n    <Tooltip title=\"Next\">\r\n      <StyledIconButton onClick={onClick} disabled={disabled}>\r\n        <SkipNextIcon fontSize=\"large\" />\r\n      </StyledIconButton>\r\n    </Tooltip>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Text = styled.div`\r\n  color: rgb(10, 144, 197);\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  text-align: center;\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  position: fixed;\r\n  bottom: ${(props) => (props.isDesktop ? \"\" : \"0px\")};\r\n  left: ${(props) => (props.isDesktop ? \"\" : \"0px\")};\r\n  width: ${(props) => (props.isDesktop ? \"400px\" : \"100%\")};\r\n  background-color: #ecf0f3;\r\n  height: 75px;\r\n  padding: 0 15px;\r\n  box-shadow: ${(props) =>\r\n    props.isDesktop ? \"\" : `0px -5px 10px ${({ theme }) => theme.topShadow}`};\r\n`;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport PrevButton from \"./PrevButton\";\r\nimport NextButton from \"./NextButton\";\r\nimport { Text, Container } from \"./NewFeedInstructionsStyle\";\r\n\r\nconst message = {\r\n  1: \"Select a title\",\r\n  2: \"Select a summary (optional)\",\r\n  3: \"Select an image (optional)\",\r\n  4: \"Select a link (optional)\",\r\n};\r\nexport default function NewFeedInstructions({ isDesktop }) {\r\n  const status = useSelector(({ addFeed }) => addFeed.status);\r\n\r\n  return (\r\n    <Container isDesktop={isDesktop}>\r\n      <PrevButton disabled={status === 1} />\r\n      <Text>{message[status]}</Text>\r\n      <NextButton disabled={status === 1} />\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport { enableEditFeed } from \"../../../../../redux/scrapers\";\r\nimport { StyledIconButton } from \"../../HeaderStyle\";\r\n\r\nexport default function EditFeedsButton() {\r\n  const dispatch = useDispatch();\r\n\r\n  const enable = () => {\r\n    dispatch(enableEditFeed());\r\n  };\r\n\r\n  return (\r\n    <Tooltip title=\"Edit feeds\">\r\n      <StyledIconButton onClick={enable}>\r\n        <EditIcon fontSize=\"large\" />\r\n      </StyledIconButton>\r\n    </Tooltip>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\n\r\nimport { disabledEditFeed } from \"../../../../../redux/scrapers\";\r\nimport { StyledIconButton, CancelButtonContainer } from \"../../HeaderStyle\";\r\n\r\nexport default function CancelEditFeedsButton() {\r\n  const dispatch = useDispatch();\r\n\r\n  const onClick = () => {\r\n    dispatch(disabledEditFeed());\r\n  };\r\n\r\n  return (\r\n    <CancelButtonContainer isDesktop={false}>\r\n      <Tooltip title=\"Cancel\">\r\n        <StyledIconButton onClick={onClick}>\r\n          <HighlightOffIcon fontSize=\"large\" />\r\n        </StyledIconButton>\r\n      </Tooltip>\r\n    </CancelButtonContainer>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useMediaQuery } from \"@material-ui/core\";\r\n\r\nimport SignOutButton from \"./Components/SignOutButton/SignOutButton\";\r\nimport AddNewFeedButton from \"./Components/AddNewFeedButton/AddNewFeedButton\";\r\nimport CancelNewFeedButton from \"./Components/CancelNewFeedButton/CancelNewFeedButton\";\r\nimport NewFeedInstructions from \"./Components/NewFeedInstructions/NewFeedInstructions\";\r\nimport EditFeedsButton from \"./Components/EditFeedsButton/EditFeedsButton\";\r\nimport CancelEditFeedsButton from \"./Components/CancelEditFeedsButton/CancelEditFeedsButton\";\r\n\r\nimport { HeaderContainer, FeedMenuContainer } from \"./HeaderStyle\";\r\n\r\nexport default function Header() {\r\n  const showHtml = useSelector(({ addFeed }) => addFeed.showHtml);\r\n  const showEditFeeds = useSelector(({ scrapers }) => scrapers.editFeeds);\r\n  const isDesktop = useMediaQuery(\"(min-width:700px)\");\r\n  return (\r\n    <HeaderContainer isDesktop={isDesktop}>\r\n      {showHtml ? (\r\n        <>\r\n          <CancelNewFeedButton isDesktop={isDesktop} />\r\n          <NewFeedInstructions isDesktop={isDesktop} />\r\n        </>\r\n      ) : showEditFeeds ? (\r\n        <CancelEditFeedsButton />\r\n      ) : (\r\n        <FeedMenuContainer>\r\n          <EditFeedsButton />\r\n          <AddNewFeedButton />\r\n          <SignOutButton />\r\n        </FeedMenuContainer>\r\n      )}\r\n    </HeaderContainer>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Backdrop = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: linear-gradient(\r\n    to right bottom,\r\n    rgba(255, 255, 255, 0.7),\r\n    rgba(255, 255, 255, 0.9)\r\n  );\r\n  backdrop-filter: blur(1rem);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 99;\r\n`;\r\nexport const SubContainer = styled.div`\r\n  height: ${(props) => 390 + props.addedHeight}px;\r\n  width: 400px;\r\n  max-width: calc(100vw - 20px);\r\n  font-family: Arial;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  background: #ecf0f3;\r\n  border-radius: 40px;\r\n  box-shadow: 13px 13px 20px ${({ theme }) => theme.topShadow},\r\n    -13px -13px 20px ${({ theme }) => theme.bottomShadow};\r\n  overflow: hidden;\r\n  position: relative;\r\n  padding: 20px;\r\n  transition: 200ms;\r\n`;\r\n\r\nexport const Field = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-evenly;\r\n  border-radius: 25px;\r\n`;\r\n\r\nexport const Title = styled.div`\r\n  font-weight: 600;\r\n  color: ${({ theme }) => theme.primaryColor};\r\n  font-size: 1.7rem;\r\n  margin: 25px 0;\r\n`;\r\nexport const Button = styled.button`\r\n  border-radius: 20px;\r\n  margin-top: 20px;\r\n  margin-bottom: 10px;\r\n  padding: 6px 12px;\r\n  background-color: ${(props) =>\r\n    props.disabled ? \"#536a7e\" : props.theme.primaryColor};\r\n  border: none;\r\n  outline: none;\r\n  height: 50px;\r\n  width: 40%;\r\n  color: white;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  cursor: ${(props) => (props.disabled ? \"not-allowed\" : \"pointer\")};\r\n  box-shadow: 5px 5px 5px ${({ theme }) => theme.topShadow},\r\n    -5px -5px 5px ${({ theme }) => theme.bottomShadow};\r\n`;\r\n","import styled from \"styled-components\";\r\nimport { Field } from \"../NewFeedMenusStyle\";\r\n\r\nexport const Form = styled.form`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nexport const InputField = styled(Field)`\r\n  margin-bottom: 25px;\r\n  padding: 15px 10px 15px 5px;\r\n  box-shadow: inset 8px 8px 8px ${({ theme }) => theme.topShadow},\r\n    inset -8px -8px 8px ${({ theme }) => theme.bottomShadow};\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  border: none;\r\n  outline: none;\r\n  background-color: transparent !important;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: 34px;\r\n  font-weight: 600;\r\n  color: ${({ theme }) => theme.primaryColor};\r\n  margin-right: 10px;\r\n`;\r\n\r\nexport const ErrorBox = styled.div`\r\n  padding: 15px 10px;\r\n  height: 90px;\r\n  margin: 5px 0;\r\n  background: none;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  border-radius: 25px;\r\n  width: 100%;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #d64958;\r\n  align-items: center;\r\n  box-shadow: inset 8px 8px 8px ${({ theme }) => theme.topShadow},\r\n    inset -8px -8px 8px hsl(353, 92%, 90%);\r\n`;\r\n\r\nexport const MessageContainer = styled.div`\r\n  height: ${(props) => props.height}px;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: 200ms;\r\n`;\r\n\r\nexport const Warning = styled.div`\r\n  position: relative;\r\n  top: -25px;\r\n  color: red;\r\n  text-align: center;\r\n`;\r\n\r\nexport const styleIcon = (Component) => {\r\n  return styled(Component)`\r\n    margin: 0 10px;\r\n    color: ${({ theme }) => theme.primaryColor};\r\n  `;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport InsertLinkIcon from \"@material-ui/icons/InsertLink\";\r\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nimport {\r\n  Backdrop,\r\n  SubContainer,\r\n  Field,\r\n  Button,\r\n  Title,\r\n} from \"../NewFeedMenusStyle\";\r\n\r\nimport {\r\n  Form,\r\n  InputField,\r\n  Input,\r\n  ErrorBox,\r\n  MessageContainer,\r\n  Warning,\r\n  styleIcon,\r\n} from \"./NewFeedStartMenuStyle\";\r\n\r\nimport { closeMenu, fetchWebsite } from \"../../../../redux/addFeed\";\r\nconst StyledInsertLinkIcon = styleIcon(InsertLinkIcon);\r\nconst StyledBookmarkIcon = styleIcon(BookmarkIcon);\r\n\r\nexport default function NewFeedStartMenu() {\r\n  const dispatch = useDispatch();\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [url, setUrl] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n  const [submitEnabled, setSubmitEnabled] = useState(false);\r\n  const [addedHeight, setAddedHeight] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setSubmitEnabled(false);\r\n    setLoading(true);\r\n    setError(null);\r\n    //timeout needed for animation\r\n    setTimeout(() => {\r\n      setAddedHeight(100);\r\n    }, 10);\r\n    const error = await dispatch(fetchWebsite(url, name));\r\n    setLoading(false);\r\n    if (error) {\r\n      setError(\"Error loading target url\");\r\n    } else {\r\n      dispatch(closeMenu());\r\n    }\r\n  };\r\n  const handleAddressChange = (event) => {\r\n    setUrl(event.target.value);\r\n    setSubmitEnabled(event.target.value && name ? true : false);\r\n  };\r\n  const handleNameChange = (event) => {\r\n    setName(event.target.value);\r\n    setSubmitEnabled(url && event.target.value ? true : false);\r\n  };\r\n  const handleCancel = (e) => {\r\n    e.preventDefault();\r\n    dispatch(closeMenu());\r\n  };\r\n  const stopPropagation = (e) => {\r\n    e.stopPropagation();\r\n  };\r\n\r\n  return (\r\n    <Backdrop onPointerDown={handleCancel}>\r\n      <SubContainer addedHeight={addedHeight} onPointerDown={stopPropagation}>\r\n        <Title>Add New Feed</Title>\r\n        <Warning>Sites which rely on scripts may not load correctly</Warning>\r\n\r\n        <Form>\r\n          <InputField>\r\n            <StyledInsertLinkIcon fontSize=\"large\" />\r\n            <Input\r\n              autoComplete=\"off\"\r\n              type=\"text\"\r\n              id=\"link\"\r\n              placeholder=\"Enter target url\"\r\n              value={url}\r\n              onChange={handleAddressChange}\r\n              required={true}\r\n            />\r\n          </InputField>\r\n          <InputField>\r\n            <StyledBookmarkIcon fontSize=\"large\" />\r\n            <Input\r\n              autoComplete=\"off\"\r\n              type=\"text\"\r\n              id=\"name\"\r\n              placeholder=\"Choose a name for this feed\"\r\n              value={name}\r\n              onChange={handleNameChange}\r\n              required={true}\r\n            />\r\n          </InputField>\r\n          <MessageContainer height={addedHeight}>\r\n            {loading && <CircularProgress size={70} />}\r\n            {error && <ErrorBox>{error}</ErrorBox>}\r\n          </MessageContainer>\r\n          <Field>\r\n            <Button disabled={!submitEnabled} onClick={handleSubmit}>\r\n              Submit\r\n            </Button>\r\n            <Button onClick={handleCancel}>Cancel</Button>\r\n          </Field>\r\n        </Form>\r\n      </SubContainer>\r\n    </Backdrop>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport { IconButton } from \"@material-ui/core\";\r\n\r\nexport const OptionsBody = styled.div`\r\n  height: 300px;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\nexport const OptionNum = styled.div`\r\n  position: relative;\r\n  top: -25px;\r\n  color: ${({ theme }) => theme.primaryColor};\r\n  font-weight: 600;\r\n`;\r\nexport const Image = styled.img`\r\n  max-height: 250px;\r\n  max-width: calc(100% - 70px);\r\n`;\r\nexport const Text = styled.div`\r\n  text-align: center;\r\n  padding: 10px;\r\n  color: ${({ theme }) => theme.primaryColor};\r\n  overflow-wrap: break-word;\r\n  max-height: 250px;\r\n  width: 250px;\r\n  overflow-y: auto;\r\n  font-size: 1rem;\r\n`;\r\nexport const StyledNavButton = styled(IconButton)`\r\n  border-radius: 10px;\r\n  box-shadow: unset;\r\n  height: 300px;\r\n  padding: 0;\r\n`;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { closeMenu, selectOption } from \"../../../../redux/addFeed\";\r\n\r\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\r\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\r\n\r\nimport {\r\n  Backdrop,\r\n  SubContainer,\r\n  Title,\r\n  Button,\r\n  Field,\r\n} from \"../NewFeedMenusStyle\";\r\n\r\nimport {\r\n  OptionsBody,\r\n  Image,\r\n  Text,\r\n  StyledNavButton,\r\n  OptionNum,\r\n} from \"./NewFeedOptionsStyle\";\r\n\r\nexport default function NewFeedOptions() {\r\n  const dispatch = useDispatch();\r\n  const options = useSelector(({ addFeed }) => addFeed.options);\r\n\r\n  const [option, setOption] = useState(options[0]);\r\n  const index = useRef(0);\r\n\r\n  const handleCancel = () => {\r\n    dispatch(closeMenu());\r\n  };\r\n  const handleSelect = () => {\r\n    dispatch(selectOption(option));\r\n  };\r\n  const stopPropagation = (e) => {\r\n    e.stopPropagation();\r\n  };\r\n  const onLeft = () => {\r\n    index.current--;\r\n    setOption(options[index.current]);\r\n  };\r\n  const onRight = () => {\r\n    index.current++;\r\n    setOption(options[index.current]);\r\n  };\r\n  return (\r\n    <>\r\n      <Backdrop onPointerDown={handleCancel}>\r\n        <SubContainer onPointerDown={stopPropagation}>\r\n          <Title>\r\n            {options.length} option{options.length === 1 ? \"\" : \"s\"} found\r\n          </Title>\r\n          {option && (\r\n            <>\r\n              <OptionNum>\r\n                {index.current + 1} / {options.length}\r\n              </OptionNum>\r\n              <OptionsBody>\r\n                <StyledNavButton\r\n                  disabled={index.current === 0}\r\n                  onClick={onLeft}\r\n                >\r\n                  <ArrowBackIosIcon\r\n                    style={{ position: \"relative\", left: 7.5 }}\r\n                    fontSize=\"large\"\r\n                  />\r\n                </StyledNavButton>\r\n                {option.type === \"image\" ? (\r\n                  <Image src={option.data} />\r\n                ) : (\r\n                  <Text>{option.data}</Text>\r\n                )}\r\n                <StyledNavButton\r\n                  disabled={index.current === options.length - 1}\r\n                  onClick={onRight}\r\n                >\r\n                  <ArrowForwardIosIcon fontSize=\"large\" />\r\n                </StyledNavButton>\r\n              </OptionsBody>\r\n            </>\r\n          )}\r\n          <Field>\r\n            {option && <Button onClick={handleSelect}>Select</Button>}\r\n            <Button onClick={handleCancel}>Cancel</Button>\r\n          </Field>\r\n        </SubContainer>\r\n      </Backdrop>\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  height: 250px;\r\n  width: 700px;\r\n  font-family: Arial;\r\n  display: flex;\r\n  background: #ecf0f3;\r\n  border-radius: 40px;\r\n  box-shadow: 13px 13px 20px ${({ theme }) => theme.topShadow},\r\n    -13px -13px 20px ${({ theme }) => theme.bottomShadow};\r\n  overflow: hidden;\r\n  position: relative;\r\n  cursor: pointer;\r\n  margin: 20px 0;\r\n  &:hover {\r\n    transform: scale(1.05);\r\n    box-shadow: 13px 13px 40px ${({ theme }) => theme.topShadow},\r\n      -13px -13px 40px ${({ theme }) => theme.bottomShadow};\r\n  }\r\n  transition: 100ms;\r\n`;\r\nexport const Image = styled.img`\r\n  object-fit: cover;\r\n  min-width: 300px;\r\n  max-width: 300px;\r\n`;\r\nexport const TextContainer = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 32px;\r\n  width: 336px;\r\n  height: 186px;\r\n  justify-content: flex-start;\r\n  overflow-y: auto;\r\n`;\r\nexport const Title = styled.div`\r\n  font-size: 1.3rem;\r\n  font-weight: 700;\r\n`;\r\nexport const Summary = styled.div`\r\n  font-size: 0.9rem;\r\n  margin-top: 1rem;\r\n`;\r\nexport const Name = styled.div`\r\n  position: absolute;\r\n  font-size: 0.8rem;\r\n  top: 7px;\r\n  left: 332px;\r\n  font-weight: 600;\r\n`;\r\nexport const DateContainer = styled.div`\r\n  position: absolute;\r\n  font-size: 0.8rem;\r\n  bottom: 7px;\r\n  left: 332px;\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deleteHeadline } from \"../../../../../../../redux/headlines\";\r\n\r\nconst Container = styled.div`\r\n  position: absolute;\r\n  bottom: 0px;\r\n  right: ${(props) => (props.isDesktop ? \"35px\" : \"calc(50% - 5px)\")};\r\n  color: black;\r\n  &:hover {\r\n    color: red;\r\n  }\r\n`;\r\nexport default function Delete({ id, isDesktop }) {\r\n  const dispatch = useDispatch();\r\n  const onClick = (e) => {\r\n    e.stopPropagation();\r\n    dispatch(deleteHeadline(id));\r\n  };\r\n  return (\r\n    <Container isDesktop={isDesktop} onClick={onClick}>\r\n      <DeleteForeverIcon fontSize=\"small\" />\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nimport {\r\n  Container,\r\n  Image,\r\n  TextContainer,\r\n  Title,\r\n  Summary,\r\n  Name,\r\n  DateContainer,\r\n} from \"./DesktopCardStyle\";\r\n\r\nimport Delete from \"../Delete/Delete\";\r\n\r\nexport default function DesktopCard({ headline }) {\r\n  return (\r\n    <Container onClick={() => window.open(headline.link, \"_blank\")}>\r\n      <Image src={headline.image} />\r\n      <Name>{headline.name}</Name>\r\n      <Delete isDesktop={true} id={headline.id}></Delete>\r\n      <TextContainer>\r\n        <Title>{headline.title}</Title>\r\n        <Summary>{headline.summary}</Summary>\r\n      </TextContainer>\r\n      <DateContainer>\r\n        {moment(headline.date).format(\"D MMM YYYY\")}\r\n      </DateContainer>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const MobileContainer = styled.div`\r\n  height: 300px;\r\n  width: calc(100% - 30px);\r\n  font-family: Arial;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #ecf0f3;\r\n  border-radius: 20px;\r\n  box-shadow: 7px 7px 10px ${({ theme }) => theme.topShadow},\r\n    -7px -7px 10px ${({ theme }) => theme.bottomShadow};\r\n  overflow: hidden;\r\n  position: relative;\r\n  cursor: pointer;\r\n  margin: 10px 0;\r\n  &:hover {\r\n    transform: scale(1.05);\r\n    box-shadow: 13px 13px 20px ${({ theme }) => theme.topShadow},\r\n      -13px -13px 20px ${({ theme }) => theme.bottomShadow};\r\n  }\r\n  transition: 100ms;\r\n`;\r\nexport const MobileImage = styled.img`\r\n  object-fit: cover;\r\n  width: 100%;\r\n  height: 150px;\r\n`;\r\nexport const MobileTextContainer = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 15px;\r\n  width: 100%;\r\n  height: 110px;\r\n  justify-content: flex-start;\r\n  overflow-y: auto;\r\n`;\r\nexport const MobileTitle = styled.div`\r\n  font-size: 1rem;\r\n  font-weight: 700;\r\n`;\r\nexport const MobileSummary = styled.div`\r\n  font-size: 0.8rem;\r\n  margin-top: 1rem;\r\n`;\r\nexport const MobileName = styled.div`\r\n  color: black;\r\n  position: absolute;\r\n  font-size: 0.7rem;\r\n  bottom: 5px;\r\n  left: 15px;\r\n  font-weight: 500;\r\n`;\r\nexport const MobileDateContainer = styled.div`\r\n  color: black;\r\n  position: absolute;\r\n  font-size: 0.7rem;\r\n  font-weight: 500;\r\n  bottom: 5px;\r\n  right: 15px;\r\n`;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nimport {\r\n  MobileContainer,\r\n  MobileImage,\r\n  MobileTextContainer,\r\n  MobileTitle,\r\n  MobileSummary,\r\n  MobileName,\r\n  MobileDateContainer,\r\n} from \"./MobileCardStyle\";\r\n\r\nimport Delete from \"../Delete/Delete\";\r\n\r\nexport default function MobileCard({ headline }) {\r\n  return (\r\n    <MobileContainer onClick={() => window.open(headline.link, \"_blank\")}>\r\n      <MobileImage src={headline.image} />\r\n      <MobileTextContainer>\r\n        <MobileTitle>{headline.title}</MobileTitle>\r\n        <MobileSummary>{headline.summary}</MobileSummary>\r\n      </MobileTextContainer>\r\n      <MobileName>{headline.name}</MobileName>\r\n      <Delete isDesktop={false} id={headline.id}></Delete>\r\n      <MobileDateContainer>\r\n        {moment(headline.date).format(\"D MMM YYYY\")}\r\n      </MobileDateContainer>\r\n    </MobileContainer>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\nimport DesktopCard from \"./DesktopCard/DesktopCard\";\r\nimport MobileCard from \"./MobileCard/MobileCard\";\r\n\r\nexport default function Card({ headline }) {\r\n  const isDesktop = useMediaQuery(\"(min-width:700px)\");\r\n  return (\r\n    <>\r\n      {isDesktop ? (\r\n        <DesktopCard headline={headline} />\r\n      ) : (\r\n        <MobileCard headline={headline} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const PreviewContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  color: ${({ theme }) => theme.primaryColor};\r\n`;\r\nexport const MessageContainer = styled.div`\r\n  height: 32px;\r\n  font-size: 1rem;\r\n`;\r\nexport const Error = styled.div`\r\n  color: red;\r\n  text-align: center;\r\n`;\r\nexport const Success = styled.div`\r\n  color: green;\r\n  text-align: center;\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nimport { onClose, submitNewScrape } from \"../../../../redux/addFeed\";\r\n\r\nimport Card from \"../../SiteBody/HeadlinesWrapper/HeadlinesList/headline/Card\";\r\n\r\nimport { Backdrop, Title, Button, Field } from \"../NewFeedMenusStyle\";\r\nimport {\r\n  PreviewContainer,\r\n  MessageContainer,\r\n  Error,\r\n  Success,\r\n} from \"./NewFeedPreviewStyle\";\r\n\r\nexport default function NewFeedPreview() {\r\n  const previewData = useSelector(({ addFeed }) => addFeed.previewData);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(null);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleCancel = () => {\r\n    dispatch(onClose());\r\n  };\r\n  const stopPropagation = (e) => {\r\n    e.stopPropagation();\r\n  };\r\n  const handleSubmit = async () => {\r\n    setLoading(true);\r\n    const apiError = await dispatch(submitNewScrape());\r\n    setLoading(false);\r\n    if (apiError) setError(\"Error saving new feed\");\r\n    else setSuccess(\"New feed saved! Main feed will be updated shortly\");\r\n  };\r\n  return (\r\n    <Backdrop onPointerDown={handleCancel}>\r\n      <PreviewContainer onPointerDown={stopPropagation}>\r\n        <Title>Preview</Title>\r\n        <Card headline={previewData} />\r\n        <MessageContainer>\r\n          {loading && <CircularProgress size={32} />}\r\n          {error && <Error>{error}</Error>}\r\n          {success && <Success>{success}</Success>}\r\n        </MessageContainer>\r\n        <Field>\r\n          {!success && !error && <Button onClick={handleSubmit}>Submit</Button>}\r\n          <Button onClick={handleCancel}>\r\n            {!success && !error ? \"Cancel\" : \"Close\"}\r\n          </Button>\r\n        </Field>\r\n      </PreviewContainer>\r\n    </Backdrop>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport NewFeedStartMenu from \"./NewFeedStartMenu/NewFeedStartMenu\";\r\nimport NewFeedOptions from \"./NewFeedOptions/NewFeedOptions\";\r\nimport NewFeedPreview from \"./NewFeedPreview/NewFeedPreview\";\r\n\r\nexport default function NewFeedMenus() {\r\n  const menu = useSelector(({ addFeed }) => addFeed.menu);\r\n  return (\r\n    <>\r\n      {\r\n        {\r\n          start: <NewFeedStartMenu />,\r\n          options: <NewFeedOptions />,\r\n          preview: <NewFeedPreview />,\r\n        }[menu]\r\n      }\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\n\nexport const ListContainer = styled.div`\n  min-height: calc(100vh - 75px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\nexport const NoContent = styled.div`\n  font-size: 1.5rem;\n  font-weight: 600;\n`;\n","import { useState, useCallback } from \"react\";\r\n\r\nimport { useWindowResize } from \"./useWindowResize\";\r\n\r\nexport const useContainerHeight = (selector) => {\r\n  const [height, setHeight] = useState(0);\r\n  //Set the height of the list to be equal to the height of the container\r\n  const updateHeight = useCallback(() => {\r\n    document.querySelector(selector) &&\r\n      setHeight(document.querySelector(selector).offsetHeight);\r\n  }, [selector]);\r\n  useWindowResize(updateHeight);\r\n  return height;\r\n};\r\n","import { useEffect } from \"react\";\r\n//window resize handler\r\n//pass in a callback (memoized using a useCallback) to run whenever the window size changes\r\n\r\nexport const useWindowResize = (callback) => {\r\n  useEffect(() => {\r\n    callback();\r\n    window.addEventListener(\"resize\", callback);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", callback);\r\n    };\r\n  }, [callback]);\r\n};\r\n","import React from \"react\";\r\nimport \"./HeadlinesList.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { FixedSizeList as List } from \"react-window\";\r\nimport InfiniteLoader from \"react-window-infinite-loader\";\r\nimport { CircularProgress, useMediaQuery } from \"@material-ui/core\";\r\n\r\nimport { getNewHeadlines } from \"../../../../../redux/headlines\";\r\nimport { useContainerHeight } from \"../../../../../globalHooks/useContainerHeight\";\r\nimport Card from \"./headline/Card\";\r\n\r\nconst InnerElement = (props) => {\r\n  return <div className=\"innerElement\" {...props} />;\r\n};\r\n\r\nexport default function HeadlinesList({ headlines }) {\r\n  const isDesktop = useMediaQuery(\"(min-width:700px)\");\r\n  const dispatch = useDispatch();\r\n  const hasNextPage = useSelector(({ headlines }) => !headlines.finished);\r\n\r\n  const itemCount = hasNextPage ? headlines.length + 1 : headlines.length;\r\n  const loadMoreItems = () => {\r\n    dispatch(getNewHeadlines());\r\n  };\r\n  const isItemLoaded = (index) => !hasNextPage || index < headlines.length;\r\n\r\n  const Item = ({ index, style }) => {\r\n    if (!isItemLoaded(index)) {\r\n      return (\r\n        <div className=\"item\" style={{ ...style }}>\r\n          <CircularProgress size={32} />\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"item\" style={{ ...style }}>\r\n          <Card headline={headlines[index]} />\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const height = useContainerHeight(\"body\");\r\n\r\n  return (\r\n    <InfiniteLoader\r\n      isItemLoaded={isItemLoaded}\r\n      itemCount={itemCount}\r\n      loadMoreItems={loadMoreItems}\r\n      threshold={1}\r\n    >\r\n      {({ onItemsRendered, ref }) => (\r\n        <List\r\n          className=\"list\"\r\n          height={height}\r\n          itemCount={itemCount}\r\n          itemSize={isDesktop ? 290 : 320}\r\n          onItemsRendered={onItemsRendered}\r\n          ref={ref}\r\n          width={\"100%\"}\r\n          innerElementType={InnerElement}\r\n        >\r\n          {Item}\r\n        </List>\r\n      )}\r\n    </InfiniteLoader>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { CircularProgress } from \"@material-ui/core\";\n\nimport { selectAllHeadlines } from \"../../../../redux/headlines\";\n\nimport { ListContainer, NoContent } from \"./HeadlinesWrapperStyle\";\n\nimport HeadlinesList from \"./HeadlinesList/HeadlinesList\";\n\nexport default function HeadlinesWrapper() {\n  const headlines = useSelector(selectAllHeadlines);\n  const loading = useSelector(({ headlines }) => headlines.loading);\n\n  return (\n    <>\n      {loading ? (\n        <ListContainer id=\"list-container\">\n          <CircularProgress />\n        </ListContainer>\n      ) : headlines.length ? (\n        <HeadlinesList headlines={headlines} />\n      ) : (\n        <ListContainer id=\"list-container\">\n          <NoContent>No headlines yet</NoContent>\n        </ListContainer>\n      )}\n    </>\n  );\n}\n","import unique from \"unique-selector\";\r\n\r\nconst domain = window.location.origin;\r\n\r\nlet optionsMap = {};\r\nlet options = [];\r\nlet targetDomain = \"\";\r\nlet originalNode = null;\r\nlet searchFunction = null;\r\nlet type = \"\";\r\n\r\nconst searchType = {\r\n  1: textSearch,\r\n  2: textSearch,\r\n  3: imageSearch,\r\n  4: linkSearch,\r\n};\r\nconst typeMap = {\r\n  1: \"title\",\r\n  2: \"summary\",\r\n  3: \"image\",\r\n  4: \"link\",\r\n};\r\nfunction textSearch(node) {\r\n  return node.innerText?.trim();\r\n}\r\nfunction imageSearch(node) {\r\n  return node.src;\r\n}\r\nfunction linkSearch(node) {\r\n  let href = node.href;\r\n  if (!href) return;\r\n  if (href.startsWith(domain)) {\r\n    href = targetDomain + href.slice(domain.length);\r\n  }\r\n  return href;\r\n}\r\nfunction getPath(node) {\r\n  try {\r\n    const path = unique(node);\r\n    path.replace(\"#externalMaster\", \"body\");\r\n    return path;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\nfunction checkNode(node) {\r\n  const data = searchFunction(node);\r\n  if (data) {\r\n    const payload = {\r\n      data,\r\n      path: getPath(node),\r\n      type: type,\r\n    };\r\n    if (!payload.path) return \"error\";\r\n    //we want the original node's option to be shown first\r\n    if (node === originalNode) {\r\n      options.push(payload);\r\n      //using a map to avoid duplicates\r\n    } else if (!optionsMap[data]) {\r\n      optionsMap[data] = payload;\r\n    }\r\n  }\r\n  const children = node.children;\r\n  for (let i = 0; i < children.length; i++) {\r\n    const error = checkNode(children[i]);\r\n    if (error) return error;\r\n  }\r\n}\r\n\r\nexport const getOptions = (node, status, targetDomainArg) => {\r\n  options = [];\r\n  optionsMap = {};\r\n  type = typeMap[status];\r\n  searchFunction = searchType[status];\r\n  targetDomain = targetDomainArg;\r\n  originalNode = node;\r\n\r\n  //start 1 level up then recurse down the tree\r\n  const parent = node.parentNode;\r\n  const error = checkNode(parent);\r\n  if (error) return [];\r\n\r\n  Object.values(optionsMap).forEach((value) => {\r\n    if (value.data !== options[0]?.data) options.push(value);\r\n  });\r\n  return options;\r\n};\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport renderHTML from \"react-render-html\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport { useSearchNodes } from \"./useSearchNodes\";\r\n\r\nconst ExternalSiteContainer = styled.div`\r\n  padding-top: 100px;\r\n  position: relative;\r\n  z-index: 0;\r\n  height: 100vh;\r\n  overflow-y: scroll;\r\n`;\r\n\r\nexport default function ExternalSite() {\r\n  const html = useSelector(({ addFeed }) => addFeed.html);\r\n\r\n  const onClick = useSearchNodes();\r\n\r\n  return (\r\n    <ExternalSiteContainer id=\"externalMaster\" onClick={onClick}>\r\n      {renderHTML(html)}\r\n    </ExternalSiteContainer>\r\n  );\r\n}\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { setOptions } from \"../../../../redux/addFeed\";\r\nimport { getOptions } from \"./searchFunctions\";\r\n\r\nexport const useSearchNodes = () => {\r\n  const dispatch = useDispatch();\r\n  const status = useSelector(({ addFeed }) => addFeed.status);\r\n  const targetDomain = useSelector(({ addFeed }) => addFeed.domain);\r\n\r\n  const onClick = (e) => {\r\n    e.preventDefault();\r\n    const targetNode = e.target;\r\n    const options = getOptions(targetNode, status, targetDomain);\r\n    dispatch(setOptions(options));\r\n  };\r\n\r\n  return onClick;\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledTable = styled.div`\r\n  max-width: calc(100vw - 20px);\r\n  box-shadow: 13px 13px 20px ${({ theme }) => theme.topShadow},\r\n    -13px -13px 20px ${({ theme }) => theme.bottomShadow};\r\n  border-radius: 10px 10px 0px 0px;\r\n  overflow-x: auto;\r\n`;\r\nconst Cell = styled.div`\r\n  width: ${(props) => props.width}px;\r\n  min-width: ${(props) => props.minWidth}px;\r\n  text-align: left;\r\n  overflow: hidden;\r\n  padding: 15px;\r\n  &:not(:last-child) {\r\n    border-right: 2px solid white;\r\n  }\r\n`;\r\n\r\nexport const TableHeaderCell = styled(Cell)`\r\n  display: flex;\r\n  align-items: center;\r\n  font-weight: 700;\r\n  font-size: 1rem;\r\n  border-bottom: 1px solid;\r\n`;\r\nexport const TableCell = styled(Cell)`\r\n  display: inline-block;\r\n  font-size: 0.9rem;\r\n  border-bottom: 1px solid white;\r\n`;\r\nexport const Row = styled.div`\r\n  min-height: 25px;\r\n  display: flex;\r\n`;\r\nexport const AlignCenter = styled.div`\r\n  width: 100%;\r\n  text-align: center;\r\n`;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport { deleteScraper } from \"../../../../redux/scrapers\";\r\n\r\nexport const StyledDelete = styled(DeleteForeverIcon)`\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: red;\r\n  }\r\n`;\r\nexport default function Delete({ id }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const onClick = () => {\r\n    dispatch(deleteScraper(id));\r\n  };\r\n  return <StyledDelete onClick={onClick} />;\r\n}\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Row, TableCell, AlignCenter } from \"../TableStyle\";\r\nimport Delete from \"../../Delete\";\r\n\r\nconst transformData = (dataType, data) => {\r\n  switch (dataType) {\r\n    case \"name\":\r\n      return data;\r\n    case \"lastScrape\":\r\n      return moment(data).format(\"HH:mm D/MM/YY\");\r\n    case \"scrapeFail\":\r\n      return <AlignCenter>{data === true ? \"❌\" : \"✔\"}</AlignCenter>;\r\n    case \"id\":\r\n      return (\r\n        <AlignCenter>\r\n          <Delete id={data} />\r\n        </AlignCenter>\r\n      );\r\n    default:\r\n      return;\r\n  }\r\n};\r\n\r\nexport default function TableData({ columns, scraper }) {\r\n  return (\r\n    <Row>\r\n      {columns.map((column, index) => (\r\n        <TableCell\r\n          key={scraper.id + index}\r\n          width={column.width}\r\n          minWidth={column.minWidth}\r\n        >\r\n          {transformData(column.data, scraper[column.data])}\r\n        </TableCell>\r\n      ))}\r\n    </Row>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Row, TableHeaderCell } from \"../TableStyle\";\r\n\r\nexport default function TableHeader({ columns }) {\r\n  return (\r\n    <Row>\r\n      {columns.map((column, index) => (\r\n        <TableHeaderCell\r\n          key={index}\r\n          width={column.width}\r\n          minWidth={column.minWidth}\r\n        >\r\n          {column.name}\r\n        </TableHeaderCell>\r\n      ))}\r\n    </Row>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectAllScrapers } from \"../../../../../redux/scrapers\";\r\n\r\nimport TableData from \"./TableData/TableData\";\r\nimport TableHeader from \"./TableHeader/TableHeader\";\r\n\r\nimport { StyledTable } from \"./TableStyle\";\r\n\r\nimport { useColumns } from \"./useColumns\";\r\n\r\nexport default function Table() {\r\n  const columns = useColumns();\r\n  const scrapers = useSelector(selectAllScrapers);\r\n  return (\r\n    <StyledTable>\r\n      <TableHeader columns={columns} />\r\n      {scrapers.map((scraper) => (\r\n        <TableData key={scraper.id} columns={columns} scraper={scraper} />\r\n      ))}\r\n    </StyledTable>\r\n  );\r\n}\r\n","import { useMemo } from \"react\";\r\n\r\nexport const useColumns = () => {\r\n  const columns = useMemo(() => {\r\n    const deleteCol = {\r\n      width: 130,\r\n      minWidth: 80,\r\n      name: \"Delete Feed\",\r\n      data: \"id\",\r\n    };\r\n    const failCol = {\r\n      width: 130,\r\n      minWidth: 80,\r\n      name: \"Feed active\",\r\n      data: \"scrapeFail\",\r\n    };\r\n    const lastScrapeCol = {\r\n      width: 150,\r\n      minWidth: 130,\r\n      name: \"Last scraped\",\r\n      data: \"lastScrape\",\r\n    };\r\n    const nameCol = {\r\n      width: 300,\r\n      minWidth: 200,\r\n      name: \"Feed name\",\r\n      data: \"name\",\r\n    };\r\n\r\n    return [nameCol, lastScrapeCol, failCol, deleteCol].map((col, index) => {\r\n      return { ...col, color: index % 2 === 0 ? 1 : 2 };\r\n    });\r\n  }, []);\r\n  return columns;\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nexport const MobileContainer = styled.div`\r\n  height: 125px;\r\n  width: calc(100% - 30px);\r\n  font-family: Arial;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #ecf0f3;\r\n  border-radius: 20px;\r\n  box-shadow: 7px 7px 10px ${({ theme }) => theme.topShadow},\r\n    -7px -7px 10px ${({ theme }) => theme.bottomShadow};\r\n  overflow: hidden;\r\n  position: relative;\r\n  margin: 10px 0;\r\n  &:hover {\r\n    transform: scale(1.05);\r\n    box-shadow: 13px 13px 20px ${({ theme }) => theme.topShadow},\r\n      -13px -13px 20px ${({ theme }) => theme.bottomShadow};\r\n  }\r\n  transition: 100ms;\r\n`;\r\nexport const MobileTitle = styled.div`\r\n  font-size: 1rem;\r\n  font-weight: 700;\r\n  width: 100%;\r\n  text-align: center;\r\n  margin-bottom: 5px;\r\n`;\r\nexport const Row = styled.div`\r\n  font-size: 0.8rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  padding: 5px 25px;\r\n`;\r\nexport const DeleteContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nimport {\r\n  MobileContainer,\r\n  MobileTitle,\r\n  Row,\r\n  DeleteContainer,\r\n} from \"./MobileCardStyle\";\r\n\r\nimport Delete from \"../../Delete\";\r\n\r\nexport default function MobileCard({ scraper }) {\r\n  return (\r\n    <MobileContainer>\r\n      <MobileTitle>{scraper.name}</MobileTitle>\r\n      <Row>\r\n        <div>Last Scraped</div>\r\n        <div>{moment(scraper.lastScrape).format(\"HH:mm D/MM/YY\")}</div>\r\n      </Row>\r\n      <Row>\r\n        <div>Feed active?</div>\r\n        <div>{scraper.scrapeFail === true ? \"❌\" : \"✔\"}</div>\r\n      </Row>\r\n      <DeleteContainer>\r\n        <Delete id={scraper.id}></Delete>\r\n      </DeleteContainer>\r\n    </MobileContainer>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectAllScrapers } from \"../../../../../redux/scrapers\";\r\nimport MobileCard from \"./MobileCard/MobileCard\";\r\n\r\nexport default function MobileCards() {\r\n  const scrapers = useSelector(selectAllScrapers);\r\n  return (\r\n    <>\r\n      {scrapers.map((scraper) => (\r\n        <MobileCard key={scraper.id} scraper={scraper} />\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  height: 100vh;\r\n  padding: 100px 5px 0 5px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  overflow-y: scroll;\r\n  flex-direction: column;\r\n`;\r\n","import React from \"react\";\r\nimport { useMediaQuery } from \"@material-ui/core\";\r\n\r\nimport Table from \"./Table/Table\";\r\nimport MobileCards from \"./MobileCards/MobileCards\";\r\n\r\nimport { Container } from \"./EditFeedsStyle\";\r\n\r\nexport default function EditFeeds() {\r\n  const isDesktop = useMediaQuery(\"(min-width:700px)\");\r\n  return (\r\n    <Container id=\"table-container\">\r\n      {isDesktop ? <Table /> : <MobileCards />}\r\n    </Container>\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { subscribeToHeadlines } from \"../../../redux/headlines\";\r\n\r\nexport const useHeadlines = () => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(subscribeToHeadlines());\r\n  }, [dispatch]);\r\n};\r\n","import { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { subscribeToScrapers } from \"../../../redux/scrapers\";\r\n\r\nexport const useScrapers = () => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(subscribeToScrapers());\r\n  }, [dispatch]);\r\n};\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport HeadlinesList from \"./HeadlinesWrapper/HeadlinesWrapper\";\r\nimport ExternalSite from \"./ExternalSite/ExternalSite\";\r\nimport EditFeeds from \"./EditFeeds/EditFeeds\";\r\n\r\nimport { useHeadlines } from \"./useHeadlines\";\r\nimport { useScrapers } from \"./useScrapers\";\r\n\r\nexport default function SiteBody() {\r\n  useHeadlines();\r\n  useScrapers();\r\n  const showHtml = useSelector(({ addFeed }) => addFeed.showHtml);\r\n  const showEditFeeds = useSelector(({ scrapers }) => scrapers.editFeeds);\r\n  return (\r\n    <>\r\n      {showHtml ? (\r\n        <ExternalSite />\r\n      ) : showEditFeeds ? (\r\n        <EditFeeds />\r\n      ) : (\r\n        <HeadlinesList />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\nexport const Container = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background-color: transparent;\n  position: absolute;\n  z-index: 2;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const SubContainer = styled.div`\n  bottom: ${(props) => (props.slideUp ? \"100%\" : \"0%\")};\n  height: ${(props) => props.height + \"px\"};\n  width: 400px;\n  font-family: Arial;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: center;\n  background: #ecf0f3;\n  border-radius: 40px;\n  box-shadow: 13px 13px 20px ${({ theme }) => theme.topShadow},\n    -13px -13px 20px ${({ theme }) => theme.bottomShadow};\n  overflow: hidden;\n  position: relative;\n  padding: 20px;\n  transition: bottom 750ms cubic-bezier(0.68, -0.55, 0.265, 1.55), height 0.2s;\n`;\nexport const LogoContainer = styled.div`\n  background: ${({ theme }) =>\n    theme.primaryColor}; /* fallback for old browsers */\n  background: -webkit-linear-gradient(\n    to right,\n    ${({ theme }) => theme.primaryColor},\n    rgb(65, 189, 238)\n  ); /* Chrome 10-25, Safari 5.1-6 */\n  background: linear-gradient(\n    to right,\n    ${({ theme }) => theme.primaryColor},\n    rgb(65, 189, 238)\n  ); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n\n  width: 100%;\n  height: 175px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 4rem;\n  font-family: \"Gill Sans\" sans-serif;\n  text-shadow: 2px 2px 8px #333;\n`;\n\nconst AuthMessageBox = styled.div`\n  height: 105px;\n  margin: 30px 10px;\n  box-sizing: border-box;\n  background: none;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border-radius: 25px;\n  width: 100%;\n  font-size: 14px;\n  padding: 10px 20px;\n  color: #d64958;\n`;\n\nexport const ConfirmChangeContainer = styled(AuthMessageBox)`\n  text-align: center;\n  box-shadow: inset 8px 8px 8px ${({ theme }) => theme.topShadow},\n    inset -8px -8px 8px ${({ theme }) => theme.bottomShadow};\n  color: ${({ theme }) => theme.primaryColor};\n  height: 75px;\n`;\n\nexport const AuthErrorBox = styled(AuthMessageBox)`\n  align-items: flex-start;\n  box-shadow: inset 8px 8px 8px ${({ theme }) => theme.topShadow},\n    inset -8px -8px 8px\n      ${(props) => (props.pass ? \"hsl(146, 79%, 87%)\" : \"hsl(353, 92%, 90%)\")};\n`;\n\nexport const WelcomeBox = styled(AuthMessageBox)`\n  box-shadow: inset 8px 8px 8px ${({ theme }) => theme.topShadow},\n    inset -8px -8px 8px ${({ theme }) => theme.bottomShadow};\n  color: ${({ theme }) => theme.primaryColor};\n  font-weight: 500;\n  height: 160px;\n  padding: 30px;\n`;\n\nexport const StyledLink = styled(Link)`\n  color: ${({ theme }) => theme.primaryColor};\n  cursor: pointer;\n  font-size: 14px;\n`;\n\nexport const ForgotPasswordHeader = styled.div`\n  width: 100%;\n  text-align: center;\n  color: ${({ theme }) => theme.primaryColor};\n  margin-bottom: 30px;\n`;\n\nexport const AuthForm = styled.form`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Field = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  border-radius: 25px;\n`;\n\nexport const InputField = styled(Field)`\n  margin-bottom: 25px;\n  padding: 15px 10px 15px 5px;\n  box-shadow: inset 8px 8px 8px ${({ theme }) => theme.topShadow},\n    inset -8px -8px 8px ${({ theme }) => theme.bottomShadow};\n`;\n\nexport const AuthInput = styled.input`\n  border: none;\n  outline: none;\n  background-color: transparent !important;\n  box-sizing: border-box;\n  width: 100%;\n  height: 34px;\n  font-weight: 600;\n  color: ${({ theme }) => theme.primaryColor};\n  margin-right: 10px;\n`;\n\nexport const AuthButton = styled.button`\n  border-radius: 20px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  padding: 6px 12px;\n  background-color: ${(props) =>\n    props.disabled ? \"#536a7e\" : props.theme.primaryColor};\n  border: none;\n  outline: none;\n  height: 50px;\n  width: 100%;\n  color: white;\n  font-size: 14px;\n  font-weight: bold;\n  cursor: ${(props) => (props.disabled ? \"not-allowed\" : \"pointer\")};\n  box-shadow: 5px 5px 5px ${({ theme }) => theme.topShadow},\n    -5px -5px 5px ${({ theme }) => theme.bottomShadow};\n`;\nexport const AuthRedirectText = styled.div`\n  color: ${({ theme }) => theme.primaryColor};\n  font-size: 14px;\n  margin-right: 10px;\n`;\nexport const AuthCheck = styled.div`\n  color: ${(props) => (props.success ? \"hsl(145, 99%, 43%)\" : \"#df3312\")};\n  font-size: 14px;\n`;\n\nexport const styleLoginIcon = (Component) => {\n  return styled(Component)`\n    margin: 0 10px;\n    color: ${({ theme }) => theme.primaryColor};\n  `;\n};\n","import React from \"react\";\nimport { AuthErrorBox } from \"../authStyle\";\n\nexport default function FormErrors({ formErrors }) {\n  return <AuthErrorBox>{formErrors.message}</AuthErrorBox>;\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\";\nimport LockIcon from \"@material-ui/icons/Lock\";\n\nimport FormErrors from \"./FormErrors\";\nimport {\n  AuthButton,\n  AuthForm,\n  AuthInput,\n  AuthRedirectText,\n  Field,\n  InputField,\n  StyledLink,\n  styleLoginIcon,\n} from \"../authStyle\";\nimport { useDispatch } from \"react-redux\";\nimport { signIn } from \"../../../../redux/auth\";\n\nconst StyledMailOutlineIcon = styleLoginIcon(MailOutlineIcon);\nconst StyledLockIcon = styleLoginIcon(LockIcon);\n\nexport default function Login({ setHeight, onSuccess }) {\n  const dispatch = useDispatch();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errors, setErrors] = useState(null);\n\n  useEffect(() => {\n    setHeight(540);\n  }, [setHeight]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setErrors(null);\n    // Amplify/Cognito\n    try {\n      await dispatch(signIn(username, password));\n      onSuccess(); //set animation\n    } catch (error) {\n      setErrors(error.message ? error : { message: error });\n      setHeight(650);\n    }\n  };\n\n  const onUsernameChange = (e) => {\n    setUsername(e.target.value);\n  };\n  const onPasswordChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  return (\n    <>\n      {errors && <FormErrors formErrors={errors} />}\n      <AuthForm onSubmit={handleSubmit}>\n        <InputField>\n          <StyledMailOutlineIcon fontSize=\"large\" />\n          <AuthInput\n            type=\"text\"\n            id=\"username\"\n            placeholder=\"Email\"\n            value={username}\n            onChange={onUsernameChange}\n            required={true}\n            autoComplete=\"username\"\n          />\n        </InputField>\n        <InputField>\n          <StyledLockIcon fontSize=\"large\" />\n\n          <AuthInput\n            type=\"password\"\n            id=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={onPasswordChange}\n            required={true}\n            autoComplete=\"current-password\"\n          />\n        </InputField>\n        <StyledLink to=\"/forgotPassword\">Forgot your password?</StyledLink>\n        <AuthButton>Sign in</AuthButton>\n        <Field>\n          <AuthRedirectText>Need an account?</AuthRedirectText>\n          <StyledLink to=\"/register\">Sign up</StyledLink>\n        </Field>\n      </AuthForm>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { AuthErrorBox, AuthCheck } from \"../authStyle\";\n\nexport default function PasswordCheck({ password, onSetSubmitEnabled }) {\n  const [lowerCaseCheck, setLowerCaseCheck] = useState(false);\n  const [upperCaseCheck, setUpperCaseCheck] = useState(false);\n  const [numberCheck, setNumberCheck] = useState(false);\n  const [lengthCheck, setLengthCheck] = useState(false);\n  const [pass, setPass] = useState(false);\n\n  useEffect(() => {\n    let regex = /[a-z]/g;\n    let localLowerCaseCheck = regex.test(password);\n    setLowerCaseCheck(localLowerCaseCheck);\n    regex = /[A-Z]/g;\n    let localUpperCaseCheck = regex.test(password);\n    setUpperCaseCheck(localUpperCaseCheck);\n    regex = /[0-9]/g;\n    let localNumberCheck = regex.test(password);\n    setNumberCheck(localNumberCheck);\n    let localLengthCheck = password.length > 7;\n    setLengthCheck(localLengthCheck);\n    const check =\n      localLowerCaseCheck &&\n      localUpperCaseCheck &&\n      localNumberCheck &&\n      localLengthCheck;\n    setPass(check);\n    onSetSubmitEnabled(check);\n  }, [password, onSetSubmitEnabled]);\n\n  return (\n    <AuthErrorBox pass={pass}>\n      <AuthCheck success={lowerCaseCheck}>\n        {lowerCaseCheck ? \"✓\" : \"✖\"} Password must contain a lower case letter\n      </AuthCheck>\n      <AuthCheck success={upperCaseCheck}>\n        {upperCaseCheck ? \"✓\" : \"✖\"} Password must contain an upper case letter\n      </AuthCheck>\n      <AuthCheck success={numberCheck}>\n        {numberCheck ? \"✓\" : \"✖\"} Password must contain a number\n      </AuthCheck>\n      <AuthCheck success={lengthCheck}>\n        {lengthCheck ? \"✓\" : \"✖\"} Password must contain at least 8 characters\n      </AuthCheck>\n    </AuthErrorBox>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\";\nimport LockIcon from \"@material-ui/icons/Lock\";\n\nimport FormErrors from \"./FormErrors\";\nimport PasswordCheck from \"./PasswordCheck\";\n\nimport {\n  AuthButton,\n  AuthForm,\n  AuthInput,\n  AuthRedirectText,\n  InputField,\n  StyledLink,\n  styleLoginIcon,\n  Field,\n} from \"../authStyle\";\nimport { useDispatch } from \"react-redux\";\nimport { signUp } from \"../../../../redux/auth\";\n\nconst StyledMailOutlineIcon = styleLoginIcon(MailOutlineIcon);\nconst StyledLockIcon = styleLoginIcon(LockIcon);\n\nexport default function Register({ history, setHeight }) {\n  const dispatch = useDispatch();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errors, setErrors] = useState(null);\n  const [submitEnabled, setSubmitEnabled] = useState(false);\n  const [submitted, setSubmitted] = useState(false);\n\n  useEffect(() => {\n    setHeight(650);\n  }, [setHeight]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setErrors(null);\n\n    setSubmitted(true);\n    try {\n      await dispatch(signUp(username, password));\n    } catch (error) {\n      setErrors(error.message ? error : { message: error });\n      setSubmitted(false);\n    }\n  };\n\n  const onUsernameChange = (e) => {\n    setErrors(null);\n    setUsername(e.target.value);\n  };\n  const onPasswordChange = (e) => {\n    setErrors(null);\n    setPassword(e.target.value);\n  };\n  return (\n    <>\n      {errors ? (\n        <FormErrors formErrors={errors} />\n      ) : (\n        <PasswordCheck\n          password={password}\n          onSetSubmitEnabled={setSubmitEnabled}\n        />\n      )}\n\n      <AuthForm onSubmit={handleSubmit}>\n        <InputField>\n          <StyledMailOutlineIcon fontSize=\"large\" />\n          <AuthInput\n            type=\"text\"\n            id=\"username\"\n            placeholder=\"Email\"\n            value={username}\n            onChange={onUsernameChange}\n            required={true}\n            autoComplete=\"username\"\n          />\n        </InputField>\n\n        <InputField>\n          <StyledLockIcon fontSize=\"large\" />\n          <AuthInput\n            type=\"password\"\n            id=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={onPasswordChange}\n            required={true}\n            autoComplete=\"current-password\"\n          />\n        </InputField>\n        <AuthButton disabled={!submitEnabled || submitted}>Sign up</AuthButton>\n        <Field>\n          <AuthRedirectText>Already have an account?</AuthRedirectText>\n          <StyledLink to=\"/\">Sign in</StyledLink>\n        </Field>\n      </AuthForm>\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\";\n\nimport FormErrors from \"./FormErrors\";\nimport {\n  ForgotPasswordHeader,\n  AuthForm,\n  Field,\n  InputField,\n  AuthInput,\n  StyledLink,\n  AuthButton,\n  styleLoginIcon,\n} from \"../authStyle\";\nimport { useDispatch } from \"react-redux\";\nimport { forgotPassword } from \"../../../../redux/auth\";\n\nconst StyledMailOutlineIcon = styleLoginIcon(MailOutlineIcon);\n\nexport default function ForgotPassword(props) {\n  const dispatch = useDispatch();\n  const [email, setEmail] = useState(\"\");\n  const [errors, setErrors] = useState(null);\n\n  const forgotPasswordHandler = async (e) => {\n    e.preventDefault();\n    setErrors(null);\n    try {\n      await dispatch(forgotPassword(email));\n      props.history.push(\"/forgotPasswordCheckEmail\");\n    } catch (error) {\n      setErrors(error.message ? error : { message: error });\n    }\n  };\n\n  const onEmailChange = (e) => {\n    setEmail(e.target.value);\n  };\n\n  return (\n    <>\n      <ForgotPasswordHeader>\n        <h1>Forgot your password?</h1>\n        <p>\n          Please enter the email address associated with your account and we'll\n          email you a password reset link.\n        </p>\n      </ForgotPasswordHeader>\n      {errors && <FormErrors formErrors={errors} />}\n\n      <AuthForm onSubmit={forgotPasswordHandler}>\n        <InputField>\n          <StyledMailOutlineIcon fontSize=\"large\" />\n          <AuthInput\n            type=\"email\"\n            id=\"email\"\n            placeholder=\"Enter email\"\n            value={email}\n            onChange={onEmailChange}\n            required={true}\n          />\n        </InputField>\n        <Field>\n          <AuthButton>Reset my password</AuthButton>\n        </Field>\n        <StyledLink to=\"/\">Sign in</StyledLink>\n      </AuthForm>\n    </>\n  );\n}\n","import React, { useEffect } from \"react\";\n\nimport { ConfirmChangeContainer, StyledLink } from \"../authStyle\";\n\nexport default function ForgotPasswordCheckEmail({ setHeight }) {\n  useEffect(() => {\n    setHeight(375);\n  }, [setHeight]);\n\n  return (\n    <>\n      <ConfirmChangeContainer>\n        <p>Please check your inbox for further instructions</p>\n      </ConfirmChangeContainer>\n      <StyledLink to=\"/\">Sign in</StyledLink>\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport LockIcon from \"@material-ui/icons/Lock\";\n\nimport FormErrors from \"./FormErrors\";\nimport PasswordCheck from \"./PasswordCheck\";\n\nimport {\n  AuthButton,\n  AuthForm,\n  AuthInput,\n  InputField,\n  Field,\n  styleLoginIcon,\n} from \"../authStyle\";\nimport { useDispatch } from \"react-redux\";\nimport { confirmNewPassword } from \"../../../../redux/auth\";\n\nconst StyledLockIcon = styleLoginIcon(LockIcon);\n\nexport default function ForgotPasswordVerify({ history, setHeight }) {\n  const dispatch = useDispatch();\n  const [verificationCode, setVerificationCode] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [errors, setErrors] = useState(null);\n  const [submitEnabled, setSubmitEnabled] = useState(false);\n\n  useEffect(() => {\n    setHeight(540);\n  }, [setHeight]);\n\n  const passwordVerificationHandler = async (e) => {\n    e.preventDefault();\n    setErrors(null);\n    try {\n      await dispatch(confirmNewPassword(verificationCode, newPassword));\n      history.push(\"/changePasswordConfirm\");\n    } catch (error) {\n      setErrors(error.message ? error : { message: error });\n    }\n  };\n\n  const onPasswordChange = (e) => {\n    setErrors(null);\n    setNewPassword(e.target.value);\n  };\n  useEffect(() => {\n    const regex = /oobCode=[^&]+/gi;\n    const search = window.location.search;\n    const code = search.match(regex)[0].slice(5);\n    setVerificationCode(code);\n  }, []);\n\n  return (\n    <>\n      {errors ? (\n        <FormErrors formErrors={errors} />\n      ) : (\n        <PasswordCheck\n          password={newPassword}\n          onSetSubmitEnabled={setSubmitEnabled}\n        />\n      )}\n\n      <AuthForm onSubmit={passwordVerificationHandler}>\n        <InputField>\n          <StyledLockIcon fontSize=\"large\" />\n          <AuthInput\n            type=\"password\"\n            id=\"newpassword\"\n            placeholder=\"New password\"\n            value={newPassword}\n            onChange={onPasswordChange}\n            required={true}\n          />\n        </InputField>\n        <Field>\n          <AuthButton disabled={!submitEnabled}>Submit</AuthButton>\n        </Field>\n      </AuthForm>\n    </>\n  );\n}\n","import React, { useEffect } from \"react\";\n\nimport { ConfirmChangeContainer, StyledLink } from \"../authStyle\";\n\nexport default function ChangePasswordConfirm({ setHeight }) {\n  useEffect(() => {\n    setHeight(375);\n  }, [setHeight]);\n\n  return (\n    <>\n      <ConfirmChangeContainer>\n        <p>Your password has been successfully updated!</p>\n      </ConfirmChangeContainer>\n      <StyledLink to=\"/\">Sign in</StyledLink>\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport Login from \"./Components/Login\";\nimport Register from \"./Components/Register\";\nimport ForgotPassword from \"./Components/ForgotPassword\";\nimport ForgotPasswordCheckEmail from \"./Components/ForgotPasswordCheckEmail\";\nimport ForgotPasswordVerify from \"./Components/ForgotPasswordVerify\";\nimport ChangePasswordConfirm from \"./Components/ChangePasswordConfirm\";\n\nimport { Container, SubContainer, LogoContainer } from \"./authStyle\";\n\nexport default function AuthMain() {\n  const [height, setHeight] = useState(540);\n  const [slideUp, setSlideUp] = useState(false);\n  return (\n    <Container>\n      <SubContainer height={height} slideUp={slideUp}>\n        <LogoContainer>News Feeds</LogoContainer>\n        <Router>\n          <Switch>\n            <Route\n              exact\n              path=\"/register\"\n              render={(props) => <Register {...props} setHeight={setHeight} />}\n            />\n\n            <Route exact path=\"/forgotPassword\" component={ForgotPassword} />\n            <Route\n              exact\n              path=\"/forgotPasswordCheckEmail\"\n              render={(props) => (\n                <ForgotPasswordCheckEmail {...props} setHeight={setHeight} />\n              )}\n            />\n            <Route\n              exact\n              path=\"/forgotPasswordVerify\"\n              render={(props) => (\n                <ForgotPasswordVerify {...props} setHeight={setHeight} />\n              )}\n            />\n            <Route\n              exact\n              path=\"/changePasswordConfirm\"\n              render={(props) => (\n                <ChangePasswordConfirm {...props} setHeight={setHeight} />\n              )}\n            />\n            <Route\n              render={(props) => (\n                <Login\n                  {...props}\n                  onSuccess={() => setSlideUp(true)}\n                  setHeight={setHeight}\n                />\n              )}\n            />\n          </Switch>\n        </Router>\n      </SubContainer>\n    </Container>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport Styling from \"./styling/Styling\";\nimport store from \"./redux/store\";\nimport App from \"./components/App/App\";\nimport AuthLayer from \"./components/AuthLayer/AuthLayer\";\n\nReactDOM.render(\n  <Styling>\n    <Provider store={store}>\n      <AuthLayer>\n        <App />\n      </AuthLayer>\n    </Provider>\n  </Styling>,\n  document.getElementById(\"root\")\n);\n","import React from \"react\";\nimport { StylesProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { ThemeProvider } from \"styled-components\";\n\nimport theme from \"./theme\";\nimport { GlobalStyles } from \"./GlobalStyles\";\n\nexport default function Styling({ children }) {\n  return (\n    <StylesProvider injectFirst>\n      <ThemeProvider theme={theme}>\n        <GlobalStyles />\n        <CssBaseline />\n        {children}\n      </ThemeProvider>\n    </StylesProvider>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport AuthMain from \"./Auth/AuthMain\";\r\nimport { authApi } from \"../../api/firebase\";\r\nimport { authorise, deauthorise, setUser } from \"../../redux/auth\";\r\n\r\nexport default function AuthLayer({ children }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const isAuth = useSelector(({ auth }) => auth.isAuth);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const init = useRef(false);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = authApi.onAuthStateChanged((user) => {\r\n      setLoading(false);\r\n      dispatch(setUser(user?.uid));\r\n\r\n      if (init.current && user) {\r\n        //timeout to allow for animation\r\n        setTimeout(() => {\r\n          dispatch(authorise());\r\n        }, 750);\r\n        return;\r\n      }\r\n      if (user) {\r\n        dispatch(authorise());\r\n      } else {\r\n        dispatch(deauthorise());\r\n      }\r\n      init.current = true;\r\n    });\r\n    return unsubscribe;\r\n  }, [dispatch]);\r\n\r\n  return <>{!loading && (!isAuth ? <AuthMain /> : children)}</>;\r\n}\r\n","import React from \"react\";\n\nimport Header from \"./Header/Header\";\nimport NewFeedMenus from \"./NewFeed/NewFeedMenus\";\nimport SiteBody from \"./SiteBody/SiteBody\";\n\nexport default function App() {\n  return (\n    <>\n      <Header />\n      <NewFeedMenus />\n      <SiteBody />\n    </>\n  );\n}\n"],"sourceRoot":""}