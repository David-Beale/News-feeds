{"version":3,"sources":["api/firebase.js","redux/auth.js","components/App/Header/HeaderStyle.js","components/App/Header/Components/SignOutButton/SignOutButton.js","redux/addFeed.js","components/App/Header/Components/AddNewFeedButton/AddNewFeedButton.js","components/App/Header/Components/CancelNewFeedButton/CancelNewFeedButton.js","components/App/Header/Components/NewFeedInstructions/PrevButton.js","components/App/Header/Components/NewFeedInstructions/NextButton.js","components/App/Header/Components/NewFeedInstructions/NewFeedInstructionsStyle.js","components/App/Header/Components/NewFeedInstructions/NewFeedInstructions.js","redux/scrapers.js","components/App/Header/Components/EditFeedsButton/EditFeedsButton.js","components/App/Header/Components/CancelEditFeedsButton/CancelEditFeedsButton.js","components/App/Header/Header.js","components/App/NewFeed/NewFeedMenusStyle.js","components/App/NewFeed/NewFeedStartMenu/NewFeedStartMenuStyle.js","components/App/NewFeed/NewFeedStartMenu/NewFeedStartMenu.js","components/App/NewFeed/NewFeedOptions/NewFeedOptionsStyle.js","components/App/NewFeed/NewFeedOptions/NewFeedOptions.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesList/headline/DesktopCard/DesktopCardStyle.js","redux/headlines.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesList/headline/Delete/Delete.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesList/headline/DesktopCard/DesktopCard.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesList/headline/MobileCard/MobileCardStyle.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesList/headline/MobileCard/MobileCard.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesList/headline/Card.js","components/App/NewFeed/NewFeedPreview/NewFeedPreviewStyle.js","components/App/NewFeed/NewFeedPreview/NewFeedPreview.js","components/App/NewFeed/NewFeedMenus.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesWrapperStyle.js","globalHooks/useContainerHeight.js","globalHooks/useWindowResize.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesList/HeadlinesList.js","components/App/SiteBody/HeadlinesWrapper/HeadlinesWrapper.js","components/App/SiteBody/ExternalSite/searchFunctions.js","components/App/SiteBody/ExternalSite/ExternalSite.js","components/App/SiteBody/ExternalSite/useSearchNodes.js","components/App/SiteBody/EditFeeds/Table/TableStyle.js","components/App/SiteBody/EditFeeds/Delete.js","components/App/SiteBody/EditFeeds/Table/TableData/TableData.js","components/App/SiteBody/EditFeeds/Table/TableHeader/TableHeader.js","components/App/SiteBody/EditFeeds/Table/Table.js","components/App/SiteBody/EditFeeds/Table/useColumns.js","components/App/SiteBody/EditFeeds/MobileCards/MobileCard/MobileCardStyle.js","components/App/SiteBody/EditFeeds/MobileCards/MobileCard/MobileCard.js","components/App/SiteBody/EditFeeds/MobileCards/MobileCards.js","components/App/SiteBody/EditFeeds/EditFeedsStyle.js","components/App/SiteBody/EditFeeds/EditFeeds.js","components/App/SiteBody/useHeadlines.js","components/App/SiteBody/useScrapers.js","components/App/SiteBody/SiteBody.js","styling/GlobalStyles.js","redux/store.js","components/AuthLayer/Auth/authStyle.js","components/AuthLayer/Auth/Components/FormErrors.js","components/AuthLayer/Auth/Components/Login.js","components/AuthLayer/Auth/Components/PasswordCheck.js","components/AuthLayer/Auth/Components/Register.js","components/AuthLayer/Auth/Components/ForgotPassword.js","components/AuthLayer/Auth/Components/ForgotPasswordCheckEmail.js","components/AuthLayer/Auth/Components/ForgotPasswordVerify.js","components/AuthLayer/Auth/Components/ChangePasswordConfirm.js","components/AuthLayer/Auth/AuthMain.js","index.js","styling/Styling.js","styling/muiDefaultTheme.js","components/AuthLayer/AuthLayer.js","components/App/App.js"],"names":["firebase","initializeApp","apiKey","process","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","measurementId","REACT_APP_FIREBASE_MEASUREMENT_ID","authApi","auth","dbApi","firestore","getHtml","app","functions","httpsCallable","createSlice","name","initialState","user","isAuth","reducers","setUser","state","action","payload","authorise","deauthorise","actions","signUp","username","password","a","createUserWithEmailAndPassword","signIn","signInWithEmailAndPassword","forgotPassword","email","sendPasswordResetEmail","confirmNewPassword","code","confirmPasswordReset","HeaderContainer","styled","div","props","isDesktop","StyledIconButton","IconButton","enabled","CancelButtonContainer","FeedMenuContainer","SignOutButton","dispatch","useDispatch","onSignOut","signOut","console","log","Tooltip","title","onClick","fontSize","menu","showHtml","domain","html","previewData","selectors","status","finished","addFeed","enableAddFeed","closeMenu","options","setDomain","setUrl","url","setName","setHtml","reset","Object","keys","forEach","key","setPreviewData","setSelectors","setOptions","setStatus","prevStatus","enabledPreview","setFinished","getDomain","match","formatUrl","newUrl","toLowerCase","startsWith","fetchWebsite","link","result","data","error","htmlBody","nextStatus","getState","currentStatus","AddNewFeedButton","CancelNewFeedButton","NextButton","disabled","Text","Container","message","1","2","3","4","NewFeedInstructions","useSelector","scrapersAdapter","createEntityAdapter","sortComparer","b","date","getInitialState","loading","editFeeds","scrapers","addScraper","upsertOne","setLoaded","deleteOne","removeOne","enableEditFeed","disabledEditFeed","selectAllScrapers","getSelectors","selectAll","EditFeedsButton","CancelEditFeedsButton","Header","showEditFeeds","useMediaQuery","color","Backdrop","SubContainer","addedHeight","Field","Title","Button","button","Form","form","InputField","Input","input","ErrorBox","MessageContainer","height","Warning","styleIcon","Component","StyledInsertLinkIcon","InsertLinkIcon","StyledBookmarkIcon","BookmarkIcon","NewFeedStartMenu","useState","setError","submitEnabled","setSubmitEnabled","setAddedHeight","setLoading","handleSubmit","e","preventDefault","setTimeout","handleCancel","onPointerDown","stopPropagation","autoComplete","type","id","placeholder","value","onChange","event","target","required","CircularProgress","size","OptionsBody","OptionNum","Image","img","StyledNavButton","NewFeedOptions","option","setOption","index","useRef","length","current","style","position","left","src","path","selectOption","lastVisible","TextContainer","Summary","Name","DateContainer","headlinesAdapter","headlines","addHeadline","selectAllHeadlines","Delete","collection","doc","update","hide","deleteHeadline","DesktopCard","headline","window","open","image","summary","moment","format","MobileContainer","MobileImage","MobileTextContainer","MobileTitle","MobileSummary","MobileName","MobileDateContainer","MobileCard","Card","PreviewContainer","Error","Success","NewFeedPreview","success","setSuccess","add","apiError","NewFeedMenus","start","preview","ListContainer","NoContent","useContainerHeight","selector","callback","setHeight","updateHeight","useCallback","document","querySelector","offsetHeight","useEffect","addEventListener","removeEventListener","InnerElement","className","HeadlinesList","hasNextPage","itemCount","isItemLoaded","Item","loadMoreItems","where","orderBy","startAfter","limit","get","then","querySnapshot","docs","catch","threshold","onItemsRendered","ref","itemSize","width","innerElementType","HeadlinesWrapper","optionsMap","targetDomain","originalNode","searchFunction","searchType","textSearch","node","href","slice","typeMap","innerText","trim","getPath","unique","replace","getOptions","targetDomainArg","checkNode","push","children","i","parentNode","values","ExternalSiteContainer","ExternalSite","targetNode","useSearchNodes","renderHTML","StyledTable","Cell","minWidth","TableHeaderCell","TableCell","Row","AlignCenter","StyledDelete","DeleteForeverIcon","delete","deleteScraper","TableData","columns","scraper","map","column","dataType","transformData","TableHeader","Table","useMemo","col","DeleteContainer","lastScrape","scrapeFail","MobileCards","EditFeeds","useHeadlines","onSnapshot","useScrapers","SiteBody","GlobalStyles","createGlobalStyle","configureStore","reducer","slideUp","LogoContainer","AuthMessageBox","ConfirmChangeContainer","AuthErrorBox","pass","StyledLink","Link","ForgotPasswordHeader","AuthForm","AuthInput","AuthButton","AuthRedirectText","AuthCheck","styleLoginIcon","FormErrors","formErrors","StyledMailOutlineIcon","MailOutlineIcon","StyledLockIcon","LockIcon","Login","onSuccess","setUsername","setPassword","errors","setErrors","onSubmit","to","PasswordCheck","onSetSubmitEnabled","lowerCaseCheck","setLowerCaseCheck","upperCaseCheck","setUpperCaseCheck","numberCheck","setNumberCheck","lengthCheck","setLengthCheck","setPass","regex","localLowerCaseCheck","test","localUpperCaseCheck","localNumberCheck","localLengthCheck","check","Register","history","submitted","setSubmitted","ForgotPassword","setEmail","forgotPasswordHandler","ForgotPasswordCheckEmail","ForgotPasswordVerify","verificationCode","setVerificationCode","newPassword","setNewPassword","passwordVerificationHandler","location","search","ChangePasswordConfirm","AuthMain","setSlideUp","exact","render","component","ReactDOM","MuiTheme","createMuiTheme","palette","primary","main","overrides","StylesProvider","injectFirst","theme","CssBaseline","store","init","onAuthStateChanged","uid","getElementById"],"mappings":"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","file":"static/js/main.db40bfb3.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/functions\";\r\n\r\nfirebase.initializeApp({\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\r\n});\r\n\r\nexport const authApi = firebase.auth();\r\nexport const dbApi = firebase.firestore();\r\nconst functionsApi = firebase.app().functions(\"europe-west2\");\r\n\r\n// dbApi.useEmulator(\"localhost\", 8080);\r\n// functionsApi.useEmulator(\"localhost\", 5001);\r\n\r\nexport const getHtml = functionsApi.httpsCallable(\"getHTML\");\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { authApi } from \"../api/firebase\";\r\n\r\nexport const initialState = {\r\n  user: null,\r\n  isAuth: false,\r\n};\r\nconst auth = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  reducers: {\r\n    setUser(state, action) {\r\n      state.user = action.payload;\r\n    },\r\n    authorise(state) {\r\n      state.isAuth = true;\r\n    },\r\n    deauthorise(state) {\r\n      state.isAuth = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setUser, authorise, deauthorise } = auth.actions;\r\n\r\nexport default auth.reducer;\r\n\r\nexport const signUp = (username, password) => async () => {\r\n  return authApi.createUserWithEmailAndPassword(username, password);\r\n};\r\nexport const signIn = (username, password) => async () => {\r\n  return authApi.signInWithEmailAndPassword(username, password);\r\n};\r\nexport const signOut = () => async () => {\r\n  return authApi.signOut();\r\n};\r\nexport const forgotPassword = (email) => async () => {\r\n  return authApi.sendPasswordResetEmail(email);\r\n};\r\nexport const confirmNewPassword = (code, password) => async () => {\r\n  return authApi.confirmPasswordReset(code, password);\r\n};\r\n","import styled from \"styled-components\";\r\nimport { IconButton } from \"@material-ui/core\";\r\n\r\nconst topShadow = \"#cbced1\";\r\n\r\nexport const HeaderContainer = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  z-index: 1;\r\n  width: ${(props) => (props.isDesktop ? \"calc(100% - 15px)\" : \"100%\")};\r\n  background-color: #ecf0f3;\r\n  height: 75px;\r\n  box-shadow: 0px 13px 20px ${topShadow};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const StyledIconButton = styled(IconButton)`\r\n  color: black;\r\n  box-shadow: ${(props) =>\r\n    props.enabled\r\n      ? \"inset -4px -4px 8px rgba(255, 255, 255, 0.6), inset 8px 8px 16px rgba(0, 0, 0, 0.2)\"\r\n      : \"-6px -6px 10px rgba(255, 255, 255, 0.7), 6px 6px 10px rgba(0, 0, 0, 0.3)\"};\r\n`;\r\nexport const CancelButtonContainer = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: ${(props) => (props.isDesktop ? \"flex-start\" : \"center\")};\r\n  padding: 0 15px;\r\n`;\r\n\r\nexport const FeedMenuContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 15px;\r\n`;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { signOut } from \"../../../../../redux/auth\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport { StyledIconButton } from \"../../HeaderStyle\";\r\n\r\nexport default function SignOutButton() {\r\n  const dispatch = useDispatch();\r\n  const onSignOut = async () => {\r\n    try {\r\n      await dispatch(signOut());\r\n    } catch (error) {\r\n      console.log(\"failed to logout\");\r\n    }\r\n  };\r\n  return (\r\n    <Tooltip title=\"Sign Out\">\r\n      <StyledIconButton onClick={onSignOut}>\r\n        <ExitToAppIcon fontSize=\"large\" />\r\n      </StyledIconButton>\r\n    </Tooltip>\r\n  );\r\n}\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { getHtml, dbApi } from \"../api/firebase\";\r\n\r\nexport const initialState = {\r\n  menu: null,\r\n  showHtml: false,\r\n  domain: \"\",\r\n  html: \"\",\r\n  previewData: {},\r\n  selectors: {},\r\n  status: 1,\r\n  finished: false,\r\n};\r\n\r\nconst addFeed = createSlice({\r\n  name: \"addFeed\",\r\n  initialState,\r\n  reducers: {\r\n    enableAddFeed(state) {\r\n      state.menu = \"start\";\r\n    },\r\n    closeMenu(state) {\r\n      state.options = [];\r\n      state.menu = null;\r\n    },\r\n    setDomain(state, action) {\r\n      state.domain = action.payload;\r\n    },\r\n    setUrl(state, action) {\r\n      state.selectors = { ...state.selectors, url: action.payload };\r\n    },\r\n    setName(state, action) {\r\n      state.previewData = { ...state.previewData, name: action.payload };\r\n      state.selectors = { ...state.selectors, name: action.payload };\r\n    },\r\n    setHtml(state, action) {\r\n      state.html = action.payload;\r\n      state.showHtml = true;\r\n    },\r\n    reset(state) {\r\n      Object.keys(state).forEach((key) => (state[key] = initialState[key]));\r\n    },\r\n    setPreviewData(state, action) {\r\n      state.previewData = { ...state.previewData, ...action.payload };\r\n    },\r\n    setSelectors(state, action) {\r\n      state.selectors = { ...state.selectors, ...action.payload };\r\n    },\r\n    setOptions(state, action) {\r\n      state.options = action.payload;\r\n      state.menu = \"options\";\r\n    },\r\n    setStatus(state, action) {\r\n      state.status = action.payload;\r\n    },\r\n    prevStatus(state) {\r\n      state.status -= 1;\r\n    },\r\n    enabledPreview(state) {\r\n      state.menu = \"preview\";\r\n    },\r\n    setFinished(state) {\r\n      state.finished = true;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  enableAddFeed,\r\n  closeMenu,\r\n  setDomain,\r\n  setUrl,\r\n  setName,\r\n  setHtml,\r\n  reset,\r\n  setPreviewData,\r\n  setSelectors,\r\n  setOptions,\r\n  setStatus,\r\n  prevStatus,\r\n  enabledPreview,\r\n  setFinished,\r\n} = addFeed.actions;\r\n\r\nexport default addFeed.reducer;\r\n\r\nconst getDomain = (url) => {\r\n  const regex = /^(?:https?:\\/\\/)?(?:[^@/\\n]+@)?(?:www.)?([^:/?\\n]+)/gi;\r\n  return url.match(regex)[0];\r\n};\r\n\r\nconst formatUrl = (url) => {\r\n  let newUrl = url.toLowerCase();\r\n  if (newUrl.startsWith(\"www.\")) {\r\n    newUrl = \"https://\" + url;\r\n  } else if (!newUrl.startsWith(\"http\")) {\r\n    newUrl = \"https://www.\" + url;\r\n  }\r\n  return newUrl;\r\n};\r\n\r\nexport const fetchWebsite = (url, name) => async (dispatch) => {\r\n  const newUrl = formatUrl(url);\r\n  const domain = getDomain(newUrl);\r\n  dispatch(setUrl(newUrl));\r\n  dispatch(setDomain(domain));\r\n  dispatch(setName(name));\r\n\r\n  try {\r\n    const result = await getHtml({ link: url });\r\n    if (result.data.error) {\r\n      return result.data.error;\r\n    }\r\n    dispatch(setHtml(result.data.htmlBody));\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const selectOption = (option) => async (dispatch) => {\r\n  dispatch(setPreviewData({ [option.type]: option.data }));\r\n  dispatch(setSelectors({ [option.type]: option.path }));\r\n  dispatch(closeMenu());\r\n  dispatch(nextStatus());\r\n};\r\nexport const nextStatus = () => async (dispatch, getState) => {\r\n  const currentStatus = getState().addFeed.status;\r\n  if (currentStatus < 4) dispatch(setStatus(currentStatus + 1));\r\n  else dispatch(enabledPreview());\r\n};\r\n\r\nexport const submitNewScrape = () => async (dispatch, getState) => {\r\n  const user = getState().auth.user;\r\n  const domain = getState().addFeed.domain;\r\n  const selectors = getState().addFeed.selectors;\r\n  try {\r\n    await dbApi.collection(\"scrapers\").add({ ...selectors, user, domain });\r\n  } catch (error) {\r\n    console.log(error);\r\n    return error;\r\n  }\r\n  dispatch(setFinished());\r\n};\r\n\r\nexport const onClose = () => async (dispatch, getState) => {\r\n  const finished = getState().addFeed.finished;\r\n  if (finished) dispatch(reset());\r\n  else dispatch(closeMenu());\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\r\n\r\nimport { enableAddFeed } from \"../../../../../redux/addFeed\";\r\nimport { StyledIconButton } from \"../../HeaderStyle\";\r\n\r\nexport default function AddNewFeedButton() {\r\n  const dispatch = useDispatch();\r\n\r\n  const enable = () => {\r\n    dispatch(enableAddFeed());\r\n  };\r\n\r\n  return (\r\n    <Tooltip title=\"Add new feed\">\r\n      <StyledIconButton onClick={enable}>\r\n        <AddCircleOutlineIcon fontSize=\"large\" />\r\n      </StyledIconButton>\r\n    </Tooltip>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\n\r\nimport { reset } from \"../../../../../redux/addFeed\";\r\nimport { StyledIconButton, CancelButtonContainer } from \"../../HeaderStyle\";\r\n\r\nexport default function CancelNewFeedButton({ isDesktop }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const onClick = () => {\r\n    dispatch(reset());\r\n  };\r\n\r\n  return (\r\n    <CancelButtonContainer isDesktop={isDesktop}>\r\n      <Tooltip title=\"Cancel\">\r\n        <StyledIconButton onClick={onClick}>\r\n          <HighlightOffIcon fontSize=\"large\" />\r\n        </StyledIconButton>\r\n      </Tooltip>\r\n    </CancelButtonContainer>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport SkipPreviousIcon from \"@material-ui/icons/SkipPrevious\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport { StyledIconButton } from \"../../HeaderStyle\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { prevStatus } from \"../../../../../redux/addFeed\";\r\n\r\nexport default function NextButton({ disabled }) {\r\n  const dispatch = useDispatch();\r\n  const onClick = () => dispatch(prevStatus());\r\n  return (\r\n    <Tooltip title=\"Back\">\r\n      <StyledIconButton onClick={onClick} disabled={disabled}>\r\n        <SkipPreviousIcon fontSize=\"large\" />\r\n      </StyledIconButton>\r\n    </Tooltip>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\n\r\nimport { StyledIconButton } from \"../../HeaderStyle\";\r\nimport { nextStatus } from \"../../../../../redux/addFeed\";\r\n\r\nexport default function NextButton({ disabled }) {\r\n  const dispatch = useDispatch();\r\n  const onClick = () => dispatch(nextStatus());\r\n  return (\r\n    <Tooltip title=\"Next\">\r\n      <StyledIconButton onClick={onClick} disabled={disabled}>\r\n        <SkipNextIcon fontSize=\"large\" />\r\n      </StyledIconButton>\r\n    </Tooltip>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nconst topShadow = \"#cbced1\";\r\n\r\nexport const Text = styled.div`\r\n  color: rgb(10, 144, 197);\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  text-align: center;\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  position: fixed;\r\n  bottom: ${(props) => (props.isDesktop ? \"\" : \"0px\")};\r\n  left: ${(props) => (props.isDesktop ? \"\" : \"0px\")};\r\n  width: ${(props) => (props.isDesktop ? \"400px\" : \"100%\")};\r\n  background-color: #ecf0f3;\r\n  height: 75px;\r\n  padding: 0 15px;\r\n  box-shadow: ${(props) =>\r\n    props.isDesktop ? \"\" : `0px -5px 10px ${topShadow}`};\r\n`;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport PrevButton from \"./PrevButton\";\r\nimport NextButton from \"./NextButton\";\r\nimport { Text, Container } from \"./NewFeedInstructionsStyle\";\r\n\r\nconst message = {\r\n  1: \"Select a title\",\r\n  2: \"Select a summary (optional)\",\r\n  3: \"Select an image (optional)\",\r\n  4: \"Select a link (optional)\",\r\n};\r\nexport default function NewFeedInstructions({ isDesktop }) {\r\n  const status = useSelector(({ addFeed }) => addFeed.status);\r\n\r\n  return (\r\n    <Container isDesktop={isDesktop}>\r\n      <PrevButton disabled={status === 1} />\r\n      <Text>{message[status]}</Text>\r\n      <NextButton disabled={status === 1} />\r\n    </Container>\r\n  );\r\n}\r\n","import { createSlice, createEntityAdapter } from \"@reduxjs/toolkit\";\r\nimport { dbApi } from \"../api/firebase\";\r\n\r\nconst scrapersAdapter = createEntityAdapter({\r\n  sortComparer: (a, b) => b.date - a.date,\r\n});\r\n\r\nexport const initialState = scrapersAdapter.getInitialState({\r\n  loading: true,\r\n  editFeeds: false,\r\n});\r\n\r\nconst scrapers = createSlice({\r\n  name: \"scrapers\",\r\n  initialState,\r\n  reducers: {\r\n    addScraper(state, action) {\r\n      scrapersAdapter.upsertOne(state, action.payload);\r\n    },\r\n    setLoaded(state) {\r\n      state.loading = false;\r\n    },\r\n    deleteOne(state, action) {\r\n      scrapersAdapter.removeOne(state, action.payload);\r\n    },\r\n    enableEditFeed(state) {\r\n      state.editFeeds = true;\r\n    },\r\n    disabledEditFeed(state) {\r\n      state.editFeeds = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  addScraper,\r\n  setLoaded,\r\n  deleteOne,\r\n  enableEditFeed,\r\n  disabledEditFeed,\r\n} = scrapers.actions;\r\n\r\nexport const { selectAll: selectAllScrapers } = scrapersAdapter.getSelectors(\r\n  (state) => state.scrapers\r\n);\r\n\r\nexport default scrapers.reducer;\r\n\r\nexport const subscribeToScrapers = () => async (dispatch, getState) => {\r\n  const user = getState().auth.user;\r\n  dbApi\r\n    .collection(\"scrapers\")\r\n    .where(\"user\", \"==\", user)\r\n    .orderBy(\"name\", \"desc\")\r\n    .onSnapshot((querySnapshot) => {\r\n      if (!querySnapshot.size) {\r\n        dispatch(setLoaded());\r\n        return;\r\n      }\r\n      querySnapshot.forEach((doc) => {\r\n        dispatch(addScraper({ id: doc.id, ...doc.data() }));\r\n      });\r\n      dispatch(setLoaded());\r\n    });\r\n};\r\n\r\nexport const deleteScraper = (id) => async (dispatch) => {\r\n  dbApi.collection(\"scrapers\").doc(id).delete();\r\n  dispatch(deleteOne(id));\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport { enableEditFeed } from \"../../../../../redux/scrapers\";\r\nimport { StyledIconButton } from \"../../HeaderStyle\";\r\n\r\nexport default function EditFeedsButton() {\r\n  const dispatch = useDispatch();\r\n\r\n  const enable = () => {\r\n    dispatch(enableEditFeed());\r\n  };\r\n\r\n  return (\r\n    <Tooltip title=\"Edit feeds\">\r\n      <StyledIconButton onClick={enable}>\r\n        <EditIcon fontSize=\"large\" />\r\n      </StyledIconButton>\r\n    </Tooltip>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\n\r\nimport { disabledEditFeed } from \"../../../../../redux/scrapers\";\r\nimport { StyledIconButton, CancelButtonContainer } from \"../../HeaderStyle\";\r\n\r\nexport default function CancelEditFeedsButton() {\r\n  const dispatch = useDispatch();\r\n\r\n  const onClick = () => {\r\n    dispatch(disabledEditFeed());\r\n  };\r\n\r\n  return (\r\n    <CancelButtonContainer isDesktop={false}>\r\n      <Tooltip title=\"Cancel\">\r\n        <StyledIconButton onClick={onClick}>\r\n          <HighlightOffIcon fontSize=\"large\" />\r\n        </StyledIconButton>\r\n      </Tooltip>\r\n    </CancelButtonContainer>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useMediaQuery } from \"@material-ui/core\";\r\n\r\nimport SignOutButton from \"./Components/SignOutButton/SignOutButton\";\r\nimport AddNewFeedButton from \"./Components/AddNewFeedButton/AddNewFeedButton\";\r\nimport CancelNewFeedButton from \"./Components/CancelNewFeedButton/CancelNewFeedButton\";\r\nimport NewFeedInstructions from \"./Components/NewFeedInstructions/NewFeedInstructions\";\r\nimport EditFeedsButton from \"./Components/EditFeedsButton/EditFeedsButton\";\r\nimport CancelEditFeedsButton from \"./Components/CancelEditFeedsButton/CancelEditFeedsButton\";\r\n\r\nimport { HeaderContainer, FeedMenuContainer } from \"./HeaderStyle\";\r\n\r\nexport default function Header() {\r\n  const showHtml = useSelector(({ addFeed }) => addFeed.showHtml);\r\n  const showEditFeeds = useSelector(({ scrapers }) => scrapers.editFeeds);\r\n  const isDesktop = useMediaQuery(\"(min-width:700px)\");\r\n  return (\r\n    <HeaderContainer isDesktop={isDesktop}>\r\n      {showHtml ? (\r\n        <>\r\n          <CancelNewFeedButton isDesktop={isDesktop} />\r\n          <NewFeedInstructions isDesktop={isDesktop} />\r\n        </>\r\n      ) : showEditFeeds ? (\r\n        <CancelEditFeedsButton />\r\n      ) : (\r\n        <FeedMenuContainer>\r\n          <EditFeedsButton />\r\n          <AddNewFeedButton />\r\n          <SignOutButton />\r\n        </FeedMenuContainer>\r\n      )}\r\n    </HeaderContainer>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nconst color = \"rgb(10, 144, 197)\";\r\nconst topShadow = \"#cbced1\";\r\nconst bottomShadow = \"#ffffff\";\r\n\r\nexport const Backdrop = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: linear-gradient(\r\n    to right bottom,\r\n    rgba(255, 255, 255, 0.7),\r\n    rgba(255, 255, 255, 0.9)\r\n  );\r\n  backdrop-filter: blur(1rem);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 99;\r\n`;\r\nexport const SubContainer = styled.div`\r\n  height: ${(props) => 390 + props.addedHeight}px;\r\n  width: 400px;\r\n  max-width: calc(100vw - 20px);\r\n  font-family: Arial;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  background: #ecf0f3;\r\n  border-radius: 40px;\r\n  box-shadow: 13px 13px 20px ${topShadow}, -13px -13px 20px ${bottomShadow};\r\n  overflow: hidden;\r\n  position: relative;\r\n  padding: 20px;\r\n  transition: 200ms;\r\n`;\r\n\r\nexport const Field = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-evenly;\r\n  border-radius: 25px;\r\n`;\r\n\r\nexport const Title = styled.div`\r\n  font-weight: 600;\r\n  color: ${color};\r\n  font-size: 1.7rem;\r\n  margin: 25px 0;\r\n`;\r\nexport const Button = styled.button`\r\n  border-radius: 20px;\r\n  margin-top: 20px;\r\n  margin-bottom: 10px;\r\n  padding: 6px 12px;\r\n  background-color: ${(props) => (props.disabled ? \"#536a7e\" : color)};\r\n  border: none;\r\n  outline: none;\r\n  height: 50px;\r\n  width: 40%;\r\n  color: white;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  cursor: ${(props) => (props.disabled ? \"not-allowed\" : \"pointer\")};\r\n  box-shadow: 5px 5px 5px ${topShadow}, -5px -5px 5px ${bottomShadow};\r\n`;\r\n","import styled from \"styled-components\";\r\nimport { Field } from \"../NewFeedMenusStyle\";\r\n\r\nconst topShadow = \"#cbced1\";\r\nconst bottomShadow = \"#ffffff\";\r\nconst color = \"rgb(10, 144, 197)\";\r\n\r\nexport const Form = styled.form`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nexport const InputField = styled(Field)`\r\n  margin-bottom: 25px;\r\n  padding: 15px 10px 15px 5px;\r\n  box-shadow: inset 8px 8px 8px ${topShadow},\r\n    inset -8px -8px 8px ${bottomShadow};\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  border: none;\r\n  outline: none;\r\n  background-color: transparent !important;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: 34px;\r\n  font-weight: 600;\r\n  color: ${color};\r\n  margin-right: 10px;\r\n`;\r\n\r\nexport const ErrorBox = styled.div`\r\n  padding: 15px 10px;\r\n  height: 90px;\r\n  margin: 5px 0;\r\n  background: none;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  border-radius: 25px;\r\n  width: 100%;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #d64958;\r\n  align-items: center;\r\n  box-shadow: inset 8px 8px 8px ${topShadow},\r\n    inset -8px -8px 8px hsl(353, 92%, 90%);\r\n`;\r\n\r\nexport const MessageContainer = styled.div`\r\n  height: ${(props) => props.height}px;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: 200ms;\r\n`;\r\n\r\nexport const Warning = styled.div`\r\n  position: relative;\r\n  top: -25px;\r\n  color: red;\r\n  text-align: center;\r\n`;\r\n\r\nexport const styleIcon = (Component) => {\r\n  return styled(Component)`\r\n    margin: 0 10px;\r\n    color: ${color};\r\n  `;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport InsertLinkIcon from \"@material-ui/icons/InsertLink\";\r\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nimport {\r\n  Backdrop,\r\n  SubContainer,\r\n  Field,\r\n  Button,\r\n  Title,\r\n} from \"../NewFeedMenusStyle\";\r\n\r\nimport {\r\n  Form,\r\n  InputField,\r\n  Input,\r\n  ErrorBox,\r\n  MessageContainer,\r\n  Warning,\r\n  styleIcon,\r\n} from \"./NewFeedStartMenuStyle\";\r\n\r\nimport { closeMenu, fetchWebsite } from \"../../../../redux/addFeed\";\r\nconst StyledInsertLinkIcon = styleIcon(InsertLinkIcon);\r\nconst StyledBookmarkIcon = styleIcon(BookmarkIcon);\r\n\r\nexport default function NewFeedStartMenu() {\r\n  const dispatch = useDispatch();\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [url, setUrl] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n  const [submitEnabled, setSubmitEnabled] = useState(false);\r\n  const [addedHeight, setAddedHeight] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setSubmitEnabled(false);\r\n    setLoading(true);\r\n    setError(null);\r\n    //timeout needed for animation\r\n    setTimeout(() => {\r\n      setAddedHeight(100);\r\n    }, 10);\r\n    const error = await dispatch(fetchWebsite(url, name));\r\n    setLoading(false);\r\n    if (error) {\r\n      setError(\"Error loading target url\");\r\n    } else {\r\n      dispatch(closeMenu());\r\n    }\r\n  };\r\n  const handleAddressChange = (event) => {\r\n    setUrl(event.target.value);\r\n    setSubmitEnabled(event.target.value && name ? true : false);\r\n  };\r\n  const handleNameChange = (event) => {\r\n    setName(event.target.value);\r\n    setSubmitEnabled(url && event.target.value ? true : false);\r\n  };\r\n  const handleCancel = (e) => {\r\n    e.preventDefault();\r\n    dispatch(closeMenu());\r\n  };\r\n  const stopPropagation = (e) => {\r\n    e.stopPropagation();\r\n  };\r\n\r\n  return (\r\n    <Backdrop onPointerDown={handleCancel}>\r\n      <SubContainer addedHeight={addedHeight} onPointerDown={stopPropagation}>\r\n        <Title>Add New Feed</Title>\r\n        <Warning>Sites which rely on scripts may not load correctly</Warning>\r\n\r\n        <Form>\r\n          <InputField>\r\n            <StyledInsertLinkIcon fontSize=\"large\" />\r\n            <Input\r\n              autoComplete=\"off\"\r\n              type=\"text\"\r\n              id=\"link\"\r\n              placeholder=\"Enter target url\"\r\n              value={url}\r\n              onChange={handleAddressChange}\r\n              required={true}\r\n            />\r\n          </InputField>\r\n          <InputField>\r\n            <StyledBookmarkIcon fontSize=\"large\" />\r\n            <Input\r\n              autoComplete=\"off\"\r\n              type=\"text\"\r\n              id=\"name\"\r\n              placeholder=\"Choose a name for this feed\"\r\n              value={name}\r\n              onChange={handleNameChange}\r\n              required={true}\r\n            />\r\n          </InputField>\r\n          <MessageContainer height={addedHeight}>\r\n            {loading && <CircularProgress size={70} />}\r\n            {error && <ErrorBox>{error}</ErrorBox>}\r\n          </MessageContainer>\r\n          <Field>\r\n            <Button disabled={!submitEnabled} onClick={handleSubmit}>\r\n              Submit\r\n            </Button>\r\n            <Button onClick={handleCancel}>Cancel</Button>\r\n          </Field>\r\n        </Form>\r\n      </SubContainer>\r\n    </Backdrop>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport { IconButton } from \"@material-ui/core\";\r\n\r\nconst color = \"rgb(10, 144, 197)\";\r\n\r\nexport const OptionsBody = styled.div`\r\n  height: 300px;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\nexport const OptionNum = styled.div`\r\n  position: relative;\r\n  top: -25px;\r\n  color: ${color};\r\n  font-weight: 600;\r\n`;\r\nexport const Image = styled.img`\r\n  max-height: 250px;\r\n  max-width: calc(100% - 70px);\r\n`;\r\nexport const Text = styled.div`\r\n  text-align: center;\r\n  padding: 10px;\r\n  color: ${color};\r\n  overflow-wrap: break-word;\r\n  max-height: 250px;\r\n  width: 250px;\r\n  overflow-y: auto;\r\n  font-size: 1rem;\r\n`;\r\nexport const StyledNavButton = styled(IconButton)`\r\n  border-radius: 10px;\r\n  box-shadow: unset;\r\n  height: 300px;\r\n  padding: 0;\r\n`;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { closeMenu, selectOption } from \"../../../../redux/addFeed\";\r\n\r\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\r\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\r\n\r\nimport {\r\n  Backdrop,\r\n  SubContainer,\r\n  Title,\r\n  Button,\r\n  Field,\r\n} from \"../NewFeedMenusStyle\";\r\n\r\nimport {\r\n  OptionsBody,\r\n  Image,\r\n  Text,\r\n  StyledNavButton,\r\n  OptionNum,\r\n} from \"./NewFeedOptionsStyle\";\r\n\r\nexport default function NewFeedOptions() {\r\n  const dispatch = useDispatch();\r\n  const options = useSelector(({ addFeed }) => addFeed.options);\r\n\r\n  const [option, setOption] = useState(options[0]);\r\n  const index = useRef(0);\r\n\r\n  const handleCancel = () => {\r\n    dispatch(closeMenu());\r\n  };\r\n  const handleSelect = () => {\r\n    dispatch(selectOption(option));\r\n  };\r\n  const stopPropagation = (e) => {\r\n    e.stopPropagation();\r\n  };\r\n  const onLeft = () => {\r\n    index.current--;\r\n    setOption(options[index.current]);\r\n  };\r\n  const onRight = () => {\r\n    index.current++;\r\n    setOption(options[index.current]);\r\n  };\r\n  return (\r\n    <>\r\n      <Backdrop onPointerDown={handleCancel}>\r\n        <SubContainer onPointerDown={stopPropagation}>\r\n          <Title>\r\n            {options.length} option{options.length === 1 ? \"\" : \"s\"} found\r\n          </Title>\r\n          {option && (\r\n            <>\r\n              <OptionNum>\r\n                {index.current + 1} / {options.length}\r\n              </OptionNum>\r\n              <OptionsBody>\r\n                <StyledNavButton\r\n                  disabled={index.current === 0}\r\n                  onClick={onLeft}\r\n                >\r\n                  <ArrowBackIosIcon\r\n                    style={{ position: \"relative\", left: 7.5 }}\r\n                    fontSize=\"large\"\r\n                  />\r\n                </StyledNavButton>\r\n                {option.type === \"image\" ? (\r\n                  <Image src={option.data} />\r\n                ) : (\r\n                  <Text>{option.data}</Text>\r\n                )}\r\n                <StyledNavButton\r\n                  disabled={index.current === options.length - 1}\r\n                  onClick={onRight}\r\n                >\r\n                  <ArrowForwardIosIcon fontSize=\"large\" />\r\n                </StyledNavButton>\r\n              </OptionsBody>\r\n            </>\r\n          )}\r\n          <Field>\r\n            {option && <Button onClick={handleSelect}>Select</Button>}\r\n            <Button onClick={handleCancel}>Cancel</Button>\r\n          </Field>\r\n        </SubContainer>\r\n      </Backdrop>\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nconst topShadow = \"#cbced1\";\r\nconst bottomShadow = \"#ffffff\";\r\n\r\nexport const Container = styled.div`\r\n  height: 250px;\r\n  width: 700px;\r\n  font-family: Arial;\r\n  display: flex;\r\n  background: #ecf0f3;\r\n  border-radius: 40px;\r\n  box-shadow: 13px 13px 20px ${topShadow}, -13px -13px 20px ${bottomShadow};\r\n  overflow: hidden;\r\n  position: relative;\r\n  cursor: pointer;\r\n  margin: 20px 0;\r\n  &:hover {\r\n    transform: scale(1.05);\r\n    box-shadow: 13px 13px 40px ${topShadow}, -13px -13px 40px ${bottomShadow};\r\n  }\r\n  transition: 100ms;\r\n`;\r\nexport const Image = styled.img`\r\n  object-fit: cover;\r\n  min-width: 300px;\r\n  max-width: 300px;\r\n`;\r\nexport const TextContainer = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 32px;\r\n  width: 336px;\r\n  height: 186px;\r\n  justify-content: flex-start;\r\n  overflow-y: auto;\r\n`;\r\nexport const Title = styled.div`\r\n  font-size: 1.3rem;\r\n  font-weight: 700;\r\n`;\r\nexport const Summary = styled.div`\r\n  font-size: 0.9rem;\r\n  margin-top: 1rem;\r\n`;\r\nexport const Name = styled.div`\r\n  position: absolute;\r\n  font-size: 0.8rem;\r\n  top: 7px;\r\n  left: 332px;\r\n  font-weight: 600;\r\n`;\r\nexport const DateContainer = styled.div`\r\n  position: absolute;\r\n  font-size: 0.8rem;\r\n  bottom: 7px;\r\n  left: 332px;\r\n`;\r\n","import { createSlice, createEntityAdapter } from \"@reduxjs/toolkit\";\r\nimport { dbApi } from \"../api/firebase\";\r\n\r\nlet lastVisible;\r\nlet loading;\r\nconst headlinesAdapter = createEntityAdapter({\r\n  sortComparer: (a, b) => b.date - a.date,\r\n});\r\n\r\nexport const initialState = headlinesAdapter.getInitialState({\r\n  loading: true,\r\n  finished: false,\r\n});\r\n\r\nconst headlines = createSlice({\r\n  name: \"headlines\",\r\n  initialState,\r\n  reducers: {\r\n    addHeadline(state, action) {\r\n      headlinesAdapter.upsertOne(state, action.payload);\r\n    },\r\n    setFinished(state) {\r\n      state.finished = true;\r\n    },\r\n    setLoaded(state) {\r\n      state.loading = false;\r\n    },\r\n    deleteOne(state, action) {\r\n      headlinesAdapter.removeOne(state, action.payload);\r\n    },\r\n  },\r\n});\r\n\r\nexport const { addHeadline, setFinished, setLoaded, deleteOne } =\r\n  headlines.actions;\r\n\r\nexport const { selectAll: selectAllHeadlines } = headlinesAdapter.getSelectors(\r\n  (state) => state.headlines\r\n);\r\n\r\nexport default headlines.reducer;\r\n\r\nexport const subscribeToHeadlines = () => async (dispatch, getState) => {\r\n  const user = getState().auth.user;\r\n  dbApi\r\n    .collection(\"headlines\")\r\n    .where(\"user\", \"==\", user)\r\n    .where(\"hide\", \"==\", false)\r\n    .orderBy(\"date\", \"desc\")\r\n    .limit(5)\r\n    .onSnapshot((querySnapshot) => {\r\n      if (!querySnapshot.size) {\r\n        dispatch(setFinished());\r\n        dispatch(setLoaded());\r\n        return;\r\n      }\r\n      querySnapshot.forEach((doc) => {\r\n        dispatch(addHeadline({ id: doc.id, ...doc.data() }));\r\n      });\r\n      if (!lastVisible) {\r\n        lastVisible = querySnapshot.docs[querySnapshot.docs.length - 1];\r\n      }\r\n      dispatch(setLoaded());\r\n    });\r\n};\r\n\r\nexport const getNewHeadlines = () => async (dispatch, getState) => {\r\n  if (loading || !lastVisible) return;\r\n  loading = true;\r\n  const user = getState().auth.user;\r\n  dbApi\r\n    .collection(\"headlines\")\r\n    .where(\"user\", \"==\", user)\r\n    .where(\"hide\", \"==\", false)\r\n    .orderBy(\"date\", \"desc\")\r\n    .startAfter(lastVisible)\r\n    .limit(5)\r\n    .get()\r\n    .then((querySnapshot) => {\r\n      querySnapshot.forEach((doc) => {\r\n        dispatch(addHeadline({ id: doc.id, ...doc.data() }));\r\n      });\r\n      lastVisible = querySnapshot.docs[querySnapshot.docs.length - 1];\r\n      if (querySnapshot.size < 5) dispatch(setFinished());\r\n      loading = false;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"Error getting documents: \", error);\r\n    });\r\n};\r\nexport const deleteHeadline = (id) => async (dispatch) => {\r\n  dbApi.collection(\"headlines\").doc(id).update({ hide: true });\r\n  dispatch(deleteOne(id));\r\n};\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deleteHeadline } from \"../../../../../../../redux/headlines\";\r\n\r\nconst Container = styled.div`\r\n  position: absolute;\r\n  bottom: 0px;\r\n  right: ${(props) => (props.isDesktop ? \"35px\" : \"calc(50% - 5px)\")};\r\n  color: black;\r\n  &:hover {\r\n    color: red;\r\n  }\r\n`;\r\nexport default function Delete({ id, isDesktop }) {\r\n  const dispatch = useDispatch();\r\n  const onClick = (e) => {\r\n    e.stopPropagation();\r\n    dispatch(deleteHeadline(id));\r\n  };\r\n  return (\r\n    <Container isDesktop={isDesktop} onClick={onClick}>\r\n      <DeleteForeverIcon fontSize=\"small\" />\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nimport {\r\n  Container,\r\n  Image,\r\n  TextContainer,\r\n  Title,\r\n  Summary,\r\n  Name,\r\n  DateContainer,\r\n} from \"./DesktopCardStyle\";\r\n\r\nimport Delete from \"../Delete/Delete\";\r\n\r\nexport default function DesktopCard({ headline }) {\r\n  return (\r\n    <Container onClick={() => window.open(headline.link, \"_blank\")}>\r\n      <Image src={headline.image} />\r\n      <Name>{headline.name}</Name>\r\n      <Delete isDesktop={true} id={headline.id}></Delete>\r\n      <TextContainer>\r\n        <Title>{headline.title}</Title>\r\n        <Summary>{headline.summary}</Summary>\r\n      </TextContainer>\r\n      <DateContainer>\r\n        {moment(headline.date).format(\"D MMM YYYY\")}\r\n      </DateContainer>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nconst topShadow = \"#cbced1\";\r\nconst bottomShadow = \"#ffffff\";\r\n\r\nexport const MobileContainer = styled.div`\r\n  height: 300px;\r\n  width: calc(100% - 30px);\r\n  font-family: Arial;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #ecf0f3;\r\n  border-radius: 20px;\r\n  box-shadow: 7px 7px 10px ${topShadow}, -7px -7px 10px ${bottomShadow};\r\n  overflow: hidden;\r\n  position: relative;\r\n  cursor: pointer;\r\n  margin: 10px 0;\r\n  &:hover {\r\n    transform: scale(1.05);\r\n    box-shadow: 13px 13px 20px ${topShadow}, -13px -13px 20px ${bottomShadow};\r\n  }\r\n  transition: 100ms;\r\n`;\r\nexport const MobileImage = styled.img`\r\n  object-fit: cover;\r\n  width: 100%;\r\n  height: 150px;\r\n`;\r\nexport const MobileTextContainer = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 15px;\r\n  width: 100%;\r\n  height: 110px;\r\n  justify-content: flex-start;\r\n  overflow-y: auto;\r\n`;\r\nexport const MobileTitle = styled.div`\r\n  font-size: 1rem;\r\n  font-weight: 700;\r\n`;\r\nexport const MobileSummary = styled.div`\r\n  font-size: 0.8rem;\r\n  margin-top: 1rem;\r\n`;\r\nexport const MobileName = styled.div`\r\n  color: black;\r\n  position: absolute;\r\n  font-size: 0.7rem;\r\n  bottom: 5px;\r\n  left: 15px;\r\n  font-weight: 500;\r\n`;\r\nexport const MobileDateContainer = styled.div`\r\n  color: black;\r\n  position: absolute;\r\n  font-size: 0.7rem;\r\n  font-weight: 500;\r\n  bottom: 5px;\r\n  right: 15px;\r\n`;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nimport {\r\n  MobileContainer,\r\n  MobileImage,\r\n  MobileTextContainer,\r\n  MobileTitle,\r\n  MobileSummary,\r\n  MobileName,\r\n  MobileDateContainer,\r\n} from \"./MobileCardStyle\";\r\n\r\nimport Delete from \"../Delete/Delete\";\r\n\r\nexport default function MobileCard({ headline }) {\r\n  return (\r\n    <MobileContainer onClick={() => window.open(headline.link, \"_blank\")}>\r\n      <MobileImage src={headline.image} />\r\n      <MobileTextContainer>\r\n        <MobileTitle>{headline.title}</MobileTitle>\r\n        <MobileSummary>{headline.summary}</MobileSummary>\r\n      </MobileTextContainer>\r\n      <MobileName>{headline.name}</MobileName>\r\n      <Delete isDesktop={false} id={headline.id}></Delete>\r\n      <MobileDateContainer>\r\n        {moment(headline.date).format(\"D MMM YYYY\")}\r\n      </MobileDateContainer>\r\n    </MobileContainer>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\nimport DesktopCard from \"./DesktopCard/DesktopCard\";\r\nimport MobileCard from \"./MobileCard/MobileCard\";\r\n\r\nexport default function Card({ headline }) {\r\n  const isDesktop = useMediaQuery(\"(min-width:700px)\");\r\n  return (\r\n    <>\r\n      {isDesktop ? (\r\n        <DesktopCard headline={headline} />\r\n      ) : (\r\n        <MobileCard headline={headline} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nconst color = \"rgb(10, 144, 197)\";\r\n\r\nexport const PreviewContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  color: ${color};\r\n`;\r\nexport const MessageContainer = styled.div`\r\n  height: 32px;\r\n  font-size: 1rem;\r\n`;\r\nexport const Error = styled.div`\r\n  color: red;\r\n  text-align: center;\r\n`;\r\nexport const Success = styled.div`\r\n  color: green;\r\n  text-align: center;\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nimport { onClose, submitNewScrape } from \"../../../../redux/addFeed\";\r\n\r\nimport Card from \"../../SiteBody/HeadlinesWrapper/HeadlinesList/headline/Card\";\r\n\r\nimport { Backdrop, Title, Button, Field } from \"../NewFeedMenusStyle\";\r\nimport {\r\n  PreviewContainer,\r\n  MessageContainer,\r\n  Error,\r\n  Success,\r\n} from \"./NewFeedPreviewStyle\";\r\n\r\nexport default function NewFeedPreview() {\r\n  const previewData = useSelector(({ addFeed }) => addFeed.previewData);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(null);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleCancel = () => {\r\n    dispatch(onClose());\r\n  };\r\n  const stopPropagation = (e) => {\r\n    e.stopPropagation();\r\n  };\r\n  const handleSubmit = async () => {\r\n    setLoading(true);\r\n    const apiError = await dispatch(submitNewScrape());\r\n    setLoading(false);\r\n    if (apiError) setError(\"Error saving new feed\");\r\n    else setSuccess(\"New feed saved! Main feed will be updated shortly\");\r\n  };\r\n  return (\r\n    <Backdrop onPointerDown={handleCancel}>\r\n      <PreviewContainer onPointerDown={stopPropagation}>\r\n        <Title>Preview</Title>\r\n        <Card headline={previewData} />\r\n        <MessageContainer>\r\n          {loading && <CircularProgress size={32} />}\r\n          {error && <Error>{error}</Error>}\r\n          {success && <Success>{success}</Success>}\r\n        </MessageContainer>\r\n        <Field>\r\n          {!success && !error && <Button onClick={handleSubmit}>Submit</Button>}\r\n          <Button onClick={handleCancel}>\r\n            {!success && !error ? \"Cancel\" : \"Close\"}\r\n          </Button>\r\n        </Field>\r\n      </PreviewContainer>\r\n    </Backdrop>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport NewFeedStartMenu from \"./NewFeedStartMenu/NewFeedStartMenu\";\r\nimport NewFeedOptions from \"./NewFeedOptions/NewFeedOptions\";\r\nimport NewFeedPreview from \"./NewFeedPreview/NewFeedPreview\";\r\n\r\nexport default function NewFeedMenus() {\r\n  const menu = useSelector(({ addFeed }) => addFeed.menu);\r\n  return (\r\n    <>\r\n      {\r\n        {\r\n          start: <NewFeedStartMenu />,\r\n          options: <NewFeedOptions />,\r\n          preview: <NewFeedPreview />,\r\n        }[menu]\r\n      }\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\n\nexport const ListContainer = styled.div`\n  min-height: calc(100vh - 75px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\nexport const NoContent = styled.div`\n  font-size: 1.5rem;\n  font-weight: 600;\n`;\n","import { useState, useCallback } from \"react\";\r\n\r\nimport { useWindowResize } from \"./useWindowResize\";\r\n\r\nexport const useContainerHeight = (selector) => {\r\n  const [height, setHeight] = useState(0);\r\n  //Set the height of the list to be equal to the height of the container\r\n  const updateHeight = useCallback(() => {\r\n    document.querySelector(selector) &&\r\n      setHeight(document.querySelector(selector).offsetHeight);\r\n  }, [selector]);\r\n  useWindowResize(updateHeight);\r\n  return height;\r\n};\r\n","import { useEffect } from \"react\";\r\n//window resize handler\r\n//pass in a callback (memoized using a useCallback) to run whenever the window size changes\r\n\r\nexport const useWindowResize = (callback) => {\r\n  useEffect(() => {\r\n    callback();\r\n    window.addEventListener(\"resize\", callback);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", callback);\r\n    };\r\n  }, [callback]);\r\n};\r\n","import React from \"react\";\r\nimport \"./HeadlinesList.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { FixedSizeList as List } from \"react-window\";\r\nimport InfiniteLoader from \"react-window-infinite-loader\";\r\nimport { CircularProgress, useMediaQuery } from \"@material-ui/core\";\r\n\r\nimport { getNewHeadlines } from \"../../../../../redux/headlines\";\r\nimport { useContainerHeight } from \"../../../../../globalHooks/useContainerHeight\";\r\nimport Card from \"./headline/Card\";\r\n\r\nconst InnerElement = (props) => {\r\n  return <div className=\"innerElement\" {...props} />;\r\n};\r\n\r\nexport default function HeadlinesList({ headlines }) {\r\n  const isDesktop = useMediaQuery(\"(min-width:700px)\");\r\n  const dispatch = useDispatch();\r\n  const hasNextPage = useSelector(({ headlines }) => !headlines.finished);\r\n\r\n  const itemCount = hasNextPage ? headlines.length + 1 : headlines.length;\r\n  const loadMoreItems = () => {\r\n    dispatch(getNewHeadlines());\r\n  };\r\n  const isItemLoaded = (index) => !hasNextPage || index < headlines.length;\r\n\r\n  const Item = ({ index, style }) => {\r\n    if (!isItemLoaded(index)) {\r\n      return (\r\n        <div className=\"item\" style={{ ...style }}>\r\n          <CircularProgress size={32} />\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"item\" style={{ ...style }}>\r\n          <Card headline={headlines[index]} />\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const height = useContainerHeight(\"body\");\r\n\r\n  return (\r\n    <InfiniteLoader\r\n      isItemLoaded={isItemLoaded}\r\n      itemCount={itemCount}\r\n      loadMoreItems={loadMoreItems}\r\n      threshold={1}\r\n    >\r\n      {({ onItemsRendered, ref }) => (\r\n        <List\r\n          className=\"list\"\r\n          height={height}\r\n          itemCount={itemCount}\r\n          itemSize={isDesktop ? 290 : 320}\r\n          onItemsRendered={onItemsRendered}\r\n          ref={ref}\r\n          width={\"100%\"}\r\n          innerElementType={InnerElement}\r\n        >\r\n          {Item}\r\n        </List>\r\n      )}\r\n    </InfiniteLoader>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { CircularProgress } from \"@material-ui/core\";\n\nimport { selectAllHeadlines } from \"../../../../redux/headlines\";\n\nimport { ListContainer, NoContent } from \"./HeadlinesWrapperStyle\";\n\nimport HeadlinesList from \"./HeadlinesList/HeadlinesList\";\n\nexport default function HeadlinesWrapper() {\n  const headlines = useSelector(selectAllHeadlines);\n  const loading = useSelector(({ headlines }) => headlines.loading);\n\n  return (\n    <>\n      {loading ? (\n        <ListContainer id=\"list-container\">\n          <CircularProgress />\n        </ListContainer>\n      ) : headlines.length ? (\n        <HeadlinesList headlines={headlines} />\n      ) : (\n        <ListContainer id=\"list-container\">\n          <NoContent>No headlines yet</NoContent>\n        </ListContainer>\n      )}\n    </>\n  );\n}\n","import unique from \"unique-selector\";\r\n\r\nconst domain = \"http://localhost:3000/\";\r\nlet optionsMap = {};\r\nlet options = [];\r\nlet targetDomain = \"\";\r\nlet originalNode = null;\r\nlet searchFunction = null;\r\nlet type = \"\";\r\n\r\nconst searchType = {\r\n  1: textSearch,\r\n  2: textSearch,\r\n  3: imageSearch,\r\n  4: linkSearch,\r\n};\r\nconst typeMap = {\r\n  1: \"title\",\r\n  2: \"summary\",\r\n  3: \"image\",\r\n  4: \"link\",\r\n};\r\nfunction textSearch(node) {\r\n  return node.innerText?.trim();\r\n}\r\nfunction imageSearch(node) {\r\n  return node.src;\r\n}\r\nfunction linkSearch(node) {\r\n  let href = node.href;\r\n  if (!href) return;\r\n  if (href.startsWith(domain)) {\r\n    href = targetDomain + href.slice(domain.length);\r\n  }\r\n  return href;\r\n}\r\nfunction getPath(node) {\r\n  try {\r\n    const path = unique(node);\r\n    path.replace(\"#externalMaster\", \"body\");\r\n    return path;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\nfunction checkNode(node) {\r\n  const data = searchFunction(node);\r\n  if (data) {\r\n    const payload = {\r\n      data,\r\n      path: getPath(node),\r\n      type: type,\r\n    };\r\n    if (!payload.path) return \"error\";\r\n    //we want the original node's option to be shown first\r\n    if (node === originalNode) {\r\n      options.push(payload);\r\n      //using a map to avoid duplicates\r\n    } else if (!optionsMap[data]) {\r\n      optionsMap[data] = payload;\r\n    }\r\n  }\r\n  const children = node.children;\r\n  for (let i = 0; i < children.length; i++) {\r\n    const error = checkNode(children[i]);\r\n    if (error) return error;\r\n  }\r\n}\r\n\r\nexport const getOptions = (node, status, targetDomainArg) => {\r\n  options = [];\r\n  optionsMap = {};\r\n  type = typeMap[status];\r\n  searchFunction = searchType[status];\r\n  targetDomain = targetDomainArg;\r\n  originalNode = node;\r\n\r\n  //start 1 level up then recurse down the tree\r\n  const parent = node.parentNode;\r\n  const error = checkNode(parent);\r\n  if (error) return [];\r\n\r\n  Object.values(optionsMap).forEach((value) => {\r\n    if (value.data !== options[0]?.data) options.push(value);\r\n  });\r\n  return options;\r\n};\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport renderHTML from \"react-render-html\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport { useSearchNodes } from \"./useSearchNodes\";\r\n\r\nconst ExternalSiteContainer = styled.div`\r\n  padding-top: 100px;\r\n  position: relative;\r\n  z-index: 0;\r\n  height: 100vh;\r\n  overflow-y: scroll;\r\n`;\r\n\r\nexport default function ExternalSite() {\r\n  const html = useSelector(({ addFeed }) => addFeed.html);\r\n\r\n  const onClick = useSearchNodes();\r\n\r\n  return (\r\n    <ExternalSiteContainer id=\"externalMaster\" onClick={onClick}>\r\n      {renderHTML(html)}\r\n    </ExternalSiteContainer>\r\n  );\r\n}\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { setOptions } from \"../../../../redux/addFeed\";\r\nimport { getOptions } from \"./searchFunctions\";\r\n\r\nexport const useSearchNodes = () => {\r\n  const dispatch = useDispatch();\r\n  const status = useSelector(({ addFeed }) => addFeed.status);\r\n  const targetDomain = useSelector(({ addFeed }) => addFeed.domain);\r\n\r\n  const onClick = (e) => {\r\n    e.preventDefault();\r\n    const targetNode = e.target;\r\n    const options = getOptions(targetNode, status, targetDomain);\r\n    dispatch(setOptions(options));\r\n  };\r\n\r\n  return onClick;\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nconst topShadow = \"#cbced1\";\r\nconst bottomShadow = \"#ffffff\";\r\n\r\nexport const StyledTable = styled.div`\r\n  max-width: calc(100vw - 20px);\r\n  box-shadow: 13px 13px 20px ${topShadow}, -13px -13px 20px ${bottomShadow};\r\n  border-radius: 10px 10px 0px 0px;\r\n  overflow-x: auto;\r\n`;\r\nconst Cell = styled.div`\r\n  width: ${(props) => props.width}px;\r\n  min-width: ${(props) => props.minWidth}px;\r\n  text-align: left;\r\n  overflow: hidden;\r\n  padding: 15px;\r\n  &:not(:last-child) {\r\n    border-right: 2px solid white;\r\n  }\r\n`;\r\n\r\nexport const TableHeaderCell = styled(Cell)`\r\n  display: flex;\r\n  align-items: center;\r\n  font-weight: 700;\r\n  font-size: 1rem;\r\n  border-bottom: 1px solid;\r\n`;\r\nexport const TableCell = styled(Cell)`\r\n  display: inline-block;\r\n  font-size: 0.9rem;\r\n  border-bottom: 1px solid white;\r\n`;\r\nexport const Row = styled.div`\r\n  min-height: 25px;\r\n  display: flex;\r\n`;\r\nexport const AlignCenter = styled.div`\r\n  width: 100%;\r\n  text-align: center;\r\n`;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport { deleteScraper } from \"../../../../redux/scrapers\";\r\n\r\nexport const StyledDelete = styled(DeleteForeverIcon)`\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: red;\r\n  }\r\n`;\r\nexport default function Delete({ id }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const onClick = () => {\r\n    dispatch(deleteScraper(id));\r\n  };\r\n  return <StyledDelete onClick={onClick} />;\r\n}\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Row, TableCell, AlignCenter } from \"../TableStyle\";\r\nimport Delete from \"../../Delete\";\r\n\r\nconst transformData = (dataType, data) => {\r\n  switch (dataType) {\r\n    case \"name\":\r\n      return data;\r\n    case \"lastScrape\":\r\n      return moment(data).format(\"HH:mm D/MM/YY\");\r\n    case \"scrapeFail\":\r\n      return <AlignCenter>{data === true ? \"\" : \"\"}</AlignCenter>;\r\n    case \"id\":\r\n      return (\r\n        <AlignCenter>\r\n          <Delete id={data} />\r\n        </AlignCenter>\r\n      );\r\n    default:\r\n      return;\r\n  }\r\n};\r\n\r\nexport default function TableData({ columns, scraper }) {\r\n  return (\r\n    <Row>\r\n      {columns.map((column, index) => (\r\n        <TableCell\r\n          key={scraper.id + index}\r\n          width={column.width}\r\n          minWidth={column.minWidth}\r\n        >\r\n          {transformData(column.data, scraper[column.data])}\r\n        </TableCell>\r\n      ))}\r\n    </Row>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Row, TableHeaderCell } from \"../TableStyle\";\r\n\r\nexport default function TableHeader({ columns }) {\r\n  return (\r\n    <Row>\r\n      {columns.map((column, index) => (\r\n        <TableHeaderCell\r\n          key={index}\r\n          width={column.width}\r\n          minWidth={column.minWidth}\r\n        >\r\n          {column.name}\r\n        </TableHeaderCell>\r\n      ))}\r\n    </Row>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectAllScrapers } from \"../../../../../redux/scrapers\";\r\n\r\nimport TableData from \"./TableData/TableData\";\r\nimport TableHeader from \"./TableHeader/TableHeader\";\r\n\r\nimport { StyledTable } from \"./TableStyle\";\r\n\r\nimport { useColumns } from \"./useColumns\";\r\n\r\nexport default function Table() {\r\n  const columns = useColumns();\r\n  const scrapers = useSelector(selectAllScrapers);\r\n  return (\r\n    <StyledTable>\r\n      <TableHeader columns={columns} />\r\n      {scrapers.map((scraper) => (\r\n        <TableData key={scraper.id} columns={columns} scraper={scraper} />\r\n      ))}\r\n    </StyledTable>\r\n  );\r\n}\r\n","import { useMemo } from \"react\";\r\n\r\nexport const useColumns = () => {\r\n  const columns = useMemo(() => {\r\n    const deleteCol = {\r\n      width: 130,\r\n      minWidth: 80,\r\n      name: \"Delete Feed\",\r\n      data: \"id\",\r\n    };\r\n    const failCol = {\r\n      width: 130,\r\n      minWidth: 80,\r\n      name: \"Feed active\",\r\n      data: \"scrapeFail\",\r\n    };\r\n    const lastScrapeCol = {\r\n      width: 150,\r\n      minWidth: 130,\r\n      name: \"Last scraped\",\r\n      data: \"lastScrape\",\r\n    };\r\n    const nameCol = {\r\n      width: 300,\r\n      minWidth: 200,\r\n      name: \"Feed name\",\r\n      data: \"name\",\r\n    };\r\n\r\n    return [nameCol, lastScrapeCol, failCol, deleteCol].map((col, index) => {\r\n      return { ...col, color: index % 2 === 0 ? 1 : 2 };\r\n    });\r\n  }, []);\r\n  return columns;\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nconst topShadow = \"#cbced1\";\r\nconst bottomShadow = \"#ffffff\";\r\n\r\nexport const MobileContainer = styled.div`\r\n  height: 125px;\r\n  width: calc(100% - 30px);\r\n  font-family: Arial;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #ecf0f3;\r\n  border-radius: 20px;\r\n  box-shadow: 7px 7px 10px ${topShadow}, -7px -7px 10px ${bottomShadow};\r\n  overflow: hidden;\r\n  position: relative;\r\n  margin: 10px 0;\r\n  &:hover {\r\n    transform: scale(1.05);\r\n    box-shadow: 13px 13px 20px ${topShadow}, -13px -13px 20px ${bottomShadow};\r\n  }\r\n  transition: 100ms;\r\n`;\r\nexport const MobileTitle = styled.div`\r\n  font-size: 1rem;\r\n  font-weight: 700;\r\n  width: 100%;\r\n  text-align: center;\r\n  margin-bottom: 5px;\r\n`;\r\nexport const Row = styled.div`\r\n  font-size: 0.8rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  padding: 5px 25px;\r\n`;\r\nexport const DeleteContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nimport {\r\n  MobileContainer,\r\n  MobileTitle,\r\n  Row,\r\n  DeleteContainer,\r\n} from \"./MobileCardStyle\";\r\n\r\nimport Delete from \"../../Delete\";\r\n\r\nexport default function MobileCard({ scraper }) {\r\n  return (\r\n    <MobileContainer>\r\n      <MobileTitle>{scraper.name}</MobileTitle>\r\n      <Row>\r\n        <div>Last Scraped</div>\r\n        <div>{moment(scraper.lastScrape).format(\"HH:mm D/MM/YY\")}</div>\r\n      </Row>\r\n      <Row>\r\n        <div>Feed active?</div>\r\n        <div>{scraper.scrapeFail === true ? \"\" : \"\"}</div>\r\n      </Row>\r\n      <DeleteContainer>\r\n        <Delete id={scraper.id}></Delete>\r\n      </DeleteContainer>\r\n    </MobileContainer>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectAllScrapers } from \"../../../../../redux/scrapers\";\r\nimport MobileCard from \"./MobileCard/MobileCard\";\r\n\r\nexport default function MobileCards() {\r\n  const scrapers = useSelector(selectAllScrapers);\r\n  return (\r\n    <>\r\n      {scrapers.map((scraper) => (\r\n        <MobileCard key={scraper.id} scraper={scraper} />\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  height: 100vh;\r\n  padding: 100px 5px 0 5px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  overflow-y: scroll;\r\n  flex-direction: column;\r\n`;\r\n","import React from \"react\";\r\nimport { useMediaQuery } from \"@material-ui/core\";\r\n\r\nimport Table from \"./Table/Table\";\r\nimport MobileCards from \"./MobileCards/MobileCards\";\r\n\r\nimport { Container } from \"./EditFeedsStyle\";\r\n\r\nexport default function EditFeeds() {\r\n  const isDesktop = useMediaQuery(\"(min-width:700px)\");\r\n  return (\r\n    <Container id=\"table-container\">\r\n      {isDesktop ? <Table /> : <MobileCards />}\r\n    </Container>\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { subscribeToHeadlines } from \"../../../redux/headlines\";\r\n\r\nexport const useHeadlines = () => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(subscribeToHeadlines());\r\n  }, [dispatch]);\r\n};\r\n","import { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { subscribeToScrapers } from \"../../../redux/scrapers\";\r\n\r\nexport const useScrapers = () => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(subscribeToScrapers());\r\n  }, [dispatch]);\r\n};\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport HeadlinesList from \"./HeadlinesWrapper/HeadlinesWrapper\";\r\nimport ExternalSite from \"./ExternalSite/ExternalSite\";\r\nimport EditFeeds from \"./EditFeeds/EditFeeds\";\r\n\r\nimport { useHeadlines } from \"./useHeadlines\";\r\nimport { useScrapers } from \"./useScrapers\";\r\n\r\nexport default function SiteBody() {\r\n  useHeadlines();\r\n  useScrapers();\r\n  const showHtml = useSelector(({ addFeed }) => addFeed.showHtml);\r\n  const showEditFeeds = useSelector(({ scrapers }) => scrapers.editFeeds);\r\n  return (\r\n    <>\r\n      {showHtml ? (\r\n        <ExternalSite />\r\n      ) : showEditFeeds ? (\r\n        <EditFeeds />\r\n      ) : (\r\n        <HeadlinesList />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport const GlobalStyles = createGlobalStyle`\r\n\r\nbody {\r\n  margin: 0;\r\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\",\r\n    \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\",\r\n    sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  overflow: hidden;\r\n  color: rgb(10, 144, 197);\r\n}\r\n:root{\r\n  overflow: hidden !important;\r\n}\r\ncode {\r\n  font-family: source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",\r\n    monospace;\r\n}\r\n\r\n`;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\n\r\nimport auth from \"./auth\";\r\nimport addFeed from \"./addFeed\";\r\nimport headlines from \"./headlines\";\r\nimport scrapers from \"./scrapers\";\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    auth,\r\n    addFeed,\r\n    headlines,\r\n    scrapers,\r\n  },\r\n});\r\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\nconst color = \"rgb(10, 144, 197)\";\nconst topShadow = \"#cbced1\";\nconst bottomShadow = \"#ffffff\";\n\nexport const Container = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background-color: transparent;\n  position: absolute;\n  z-index: 2;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const SubContainer = styled.div`\n  bottom: ${(props) => (props.slideUp ? \"100%\" : \"0%\")};\n  height: ${(props) => props.height + \"px\"};\n  width: 400px;\n  font-family: Arial;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: center;\n  background: #ecf0f3;\n  border-radius: 40px;\n  box-shadow: 13px 13px 20px ${topShadow}, -13px -13px 20px ${bottomShadow};\n  overflow: hidden;\n  position: relative;\n  padding: 20px;\n  transition: bottom 750ms cubic-bezier(0.68, -0.55, 0.265, 1.55), height 0.2s;\n`;\nexport const LogoContainer = styled.div`\n  background: ${color}; /* fallback for old browsers */\n  background: -webkit-linear-gradient(\n    to right,\n    ${color},\n    rgb(65, 189, 238)\n  ); /* Chrome 10-25, Safari 5.1-6 */\n  background: linear-gradient(\n    to right,\n    ${color},\n    rgb(65, 189, 238)\n  ); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n\n  width: 100%;\n  height: 175px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 4rem;\n  font-family: \"Gill Sans\" sans-serif;\n  text-shadow: 2px 2px 8px #333;\n`;\n\nconst AuthMessageBox = styled.div`\n  height: 105px;\n  margin: 30px 10px;\n  box-sizing: border-box;\n  background: none;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border-radius: 25px;\n  width: 100%;\n  font-size: 14px;\n  padding: 10px 20px;\n  color: #d64958;\n`;\n\nexport const ConfirmChangeContainer = styled(AuthMessageBox)`\n  text-align: center;\n  box-shadow: inset 8px 8px 8px ${topShadow},\n    inset -8px -8px 8px ${bottomShadow};\n  color: ${color};\n  height: 75px;\n`;\n\nexport const AuthErrorBox = styled(AuthMessageBox)`\n  align-items: flex-start;\n  box-shadow: inset 8px 8px 8px ${topShadow},\n    inset -8px -8px 8px\n      ${(props) => (props.pass ? \"hsl(146, 79%, 87%)\" : \"hsl(353, 92%, 90%)\")};\n`;\n\nexport const WelcomeBox = styled(AuthMessageBox)`\n  box-shadow: inset 8px 8px 8px ${topShadow},\n    inset -8px -8px 8px ${bottomShadow};\n  color: ${color};\n  font-weight: 500;\n  height: 160px;\n  padding: 30px;\n`;\n\nexport const StyledLink = styled(Link)`\n  color: ${color};\n  cursor: pointer;\n  font-size: 14px;\n`;\n\nexport const ForgotPasswordHeader = styled.div`\n  width: 100%;\n  text-align: center;\n  color: ${color};\n  margin-bottom: 30px;\n`;\n\nexport const AuthForm = styled.form`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Field = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  border-radius: 25px;\n`;\n\nexport const InputField = styled(Field)`\n  margin-bottom: 25px;\n  padding: 15px 10px 15px 5px;\n  box-shadow: inset 8px 8px 8px ${topShadow},\n    inset -8px -8px 8px ${bottomShadow};\n`;\n\nexport const AuthInput = styled.input`\n  border: none;\n  outline: none;\n  background-color: transparent !important;\n  box-sizing: border-box;\n  width: 100%;\n  height: 34px;\n  font-weight: 600;\n  color: ${color};\n  margin-right: 10px;\n`;\n\nexport const AuthButton = styled.button`\n  border-radius: 20px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  padding: 6px 12px;\n  background-color: ${(props) => (props.disabled ? \"#536a7e\" : color)};\n  border: none;\n  outline: none;\n  height: 50px;\n  width: 100%;\n  color: white;\n  font-size: 14px;\n  font-weight: bold;\n  cursor: ${(props) => (props.disabled ? \"not-allowed\" : \"pointer\")};\n  box-shadow: 5px 5px 5px ${topShadow}, -5px -5px 5px ${bottomShadow};\n`;\nexport const AuthRedirectText = styled.div`\n  color: ${color};\n  font-size: 14px;\n  margin-right: 10px;\n`;\nexport const AuthCheck = styled.div`\n  color: ${(props) => (props.success ? \"hsl(145, 99%, 43%)\" : \"#df3312\")};\n  font-size: 14px;\n`;\n\nexport const styleLoginIcon = (Component) => {\n  return styled(Component)`\n    margin: 0 10px;\n    color: ${color};\n  `;\n};\n","import React from \"react\";\nimport { AuthErrorBox } from \"../authStyle\";\n\nexport default function FormErrors({ formErrors }) {\n  return <AuthErrorBox>{formErrors.message}</AuthErrorBox>;\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\";\nimport LockIcon from \"@material-ui/icons/Lock\";\n\nimport FormErrors from \"./FormErrors\";\nimport {\n  AuthButton,\n  AuthForm,\n  AuthInput,\n  AuthRedirectText,\n  Field,\n  InputField,\n  StyledLink,\n  styleLoginIcon,\n} from \"../authStyle\";\nimport { useDispatch } from \"react-redux\";\nimport { signIn } from \"../../../../redux/auth\";\n\nconst StyledMailOutlineIcon = styleLoginIcon(MailOutlineIcon);\nconst StyledLockIcon = styleLoginIcon(LockIcon);\n\nexport default function Login({ setHeight, onSuccess }) {\n  const dispatch = useDispatch();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errors, setErrors] = useState(null);\n\n  useEffect(() => {\n    setHeight(540);\n  }, [setHeight]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setErrors(null);\n    // Amplify/Cognito\n    try {\n      await dispatch(signIn(username, password));\n      onSuccess(); //set animation\n    } catch (error) {\n      setErrors(error.message ? error : { message: error });\n      setHeight(650);\n    }\n  };\n\n  const onUsernameChange = (e) => {\n    setUsername(e.target.value);\n  };\n  const onPasswordChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  return (\n    <>\n      {errors && <FormErrors formErrors={errors} />}\n      <AuthForm onSubmit={handleSubmit}>\n        <InputField>\n          <StyledMailOutlineIcon fontSize=\"large\" />\n          <AuthInput\n            type=\"text\"\n            id=\"username\"\n            placeholder=\"Email\"\n            value={username}\n            onChange={onUsernameChange}\n            required={true}\n            autoComplete=\"username\"\n          />\n        </InputField>\n        <InputField>\n          <StyledLockIcon fontSize=\"large\" />\n\n          <AuthInput\n            type=\"password\"\n            id=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={onPasswordChange}\n            required={true}\n            autoComplete=\"current-password\"\n          />\n        </InputField>\n        <StyledLink to=\"/forgotPassword\">Forgot your password?</StyledLink>\n        <AuthButton>Sign in</AuthButton>\n        <Field>\n          <AuthRedirectText>Need an account?</AuthRedirectText>\n          <StyledLink to=\"/register\">Sign up</StyledLink>\n        </Field>\n      </AuthForm>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { AuthErrorBox, AuthCheck } from \"../authStyle\";\n\nexport default function PasswordCheck({ password, onSetSubmitEnabled }) {\n  const [lowerCaseCheck, setLowerCaseCheck] = useState(false);\n  const [upperCaseCheck, setUpperCaseCheck] = useState(false);\n  const [numberCheck, setNumberCheck] = useState(false);\n  const [lengthCheck, setLengthCheck] = useState(false);\n  const [pass, setPass] = useState(false);\n\n  useEffect(() => {\n    let regex = /[a-z]/g;\n    let localLowerCaseCheck = regex.test(password);\n    setLowerCaseCheck(localLowerCaseCheck);\n    regex = /[A-Z]/g;\n    let localUpperCaseCheck = regex.test(password);\n    setUpperCaseCheck(localUpperCaseCheck);\n    regex = /[0-9]/g;\n    let localNumberCheck = regex.test(password);\n    setNumberCheck(localNumberCheck);\n    let localLengthCheck = password.length > 7;\n    setLengthCheck(localLengthCheck);\n    const check =\n      localLowerCaseCheck &&\n      localUpperCaseCheck &&\n      localNumberCheck &&\n      localLengthCheck;\n    setPass(check);\n    onSetSubmitEnabled(check);\n  }, [password, onSetSubmitEnabled]);\n\n  return (\n    <AuthErrorBox pass={pass}>\n      <AuthCheck success={lowerCaseCheck}>\n        {lowerCaseCheck ? \"\" : \"\"} Password must contain a lower case letter\n      </AuthCheck>\n      <AuthCheck success={upperCaseCheck}>\n        {upperCaseCheck ? \"\" : \"\"} Password must contain an upper case letter\n      </AuthCheck>\n      <AuthCheck success={numberCheck}>\n        {numberCheck ? \"\" : \"\"} Password must contain a number\n      </AuthCheck>\n      <AuthCheck success={lengthCheck}>\n        {lengthCheck ? \"\" : \"\"} Password must contain at least 8 characters\n      </AuthCheck>\n    </AuthErrorBox>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\";\nimport LockIcon from \"@material-ui/icons/Lock\";\n\nimport FormErrors from \"./FormErrors\";\nimport PasswordCheck from \"./PasswordCheck\";\n\nimport {\n  AuthButton,\n  AuthForm,\n  AuthInput,\n  AuthRedirectText,\n  InputField,\n  StyledLink,\n  styleLoginIcon,\n  Field,\n} from \"../authStyle\";\nimport { useDispatch } from \"react-redux\";\nimport { signUp } from \"../../../../redux/auth\";\n\nconst StyledMailOutlineIcon = styleLoginIcon(MailOutlineIcon);\nconst StyledLockIcon = styleLoginIcon(LockIcon);\n\nexport default function Register({ history, setHeight }) {\n  const dispatch = useDispatch();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errors, setErrors] = useState(null);\n  const [submitEnabled, setSubmitEnabled] = useState(false);\n  const [submitted, setSubmitted] = useState(false);\n\n  useEffect(() => {\n    setHeight(650);\n  }, [setHeight]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setErrors(null);\n\n    setSubmitted(true);\n    try {\n      await dispatch(signUp(username, password));\n    } catch (error) {\n      setErrors(error.message ? error : { message: error });\n      setSubmitted(false);\n    }\n  };\n\n  const onUsernameChange = (e) => {\n    setErrors(null);\n    setUsername(e.target.value);\n  };\n  const onPasswordChange = (e) => {\n    setErrors(null);\n    setPassword(e.target.value);\n  };\n  return (\n    <>\n      {errors ? (\n        <FormErrors formErrors={errors} />\n      ) : (\n        <PasswordCheck\n          password={password}\n          onSetSubmitEnabled={setSubmitEnabled}\n        />\n      )}\n\n      <AuthForm onSubmit={handleSubmit}>\n        <InputField>\n          <StyledMailOutlineIcon fontSize=\"large\" />\n          <AuthInput\n            type=\"text\"\n            id=\"username\"\n            placeholder=\"Email\"\n            value={username}\n            onChange={onUsernameChange}\n            required={true}\n            autoComplete=\"username\"\n          />\n        </InputField>\n\n        <InputField>\n          <StyledLockIcon fontSize=\"large\" />\n          <AuthInput\n            type=\"password\"\n            id=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={onPasswordChange}\n            required={true}\n            autoComplete=\"current-password\"\n          />\n        </InputField>\n        <AuthButton disabled={!submitEnabled || submitted}>Sign up</AuthButton>\n        <Field>\n          <AuthRedirectText>Already have an account?</AuthRedirectText>\n          <StyledLink to=\"/\">Sign in</StyledLink>\n        </Field>\n      </AuthForm>\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\";\n\nimport FormErrors from \"./FormErrors\";\nimport {\n  ForgotPasswordHeader,\n  AuthForm,\n  Field,\n  InputField,\n  AuthInput,\n  StyledLink,\n  AuthButton,\n  styleLoginIcon,\n} from \"../authStyle\";\nimport { useDispatch } from \"react-redux\";\nimport { forgotPassword } from \"../../../../redux/auth\";\n\nconst StyledMailOutlineIcon = styleLoginIcon(MailOutlineIcon);\n\nexport default function ForgotPassword(props) {\n  const dispatch = useDispatch();\n  const [email, setEmail] = useState(\"\");\n  const [errors, setErrors] = useState(null);\n\n  const forgotPasswordHandler = async (e) => {\n    e.preventDefault();\n    setErrors(null);\n    try {\n      await dispatch(forgotPassword(email));\n      props.history.push(\"/forgotPasswordCheckEmail\");\n    } catch (error) {\n      setErrors(error.message ? error : { message: error });\n    }\n  };\n\n  const onEmailChange = (e) => {\n    setEmail(e.target.value);\n  };\n\n  return (\n    <>\n      <ForgotPasswordHeader>\n        <h1>Forgot your password?</h1>\n        <p>\n          Please enter the email address associated with your account and we'll\n          email you a password reset link.\n        </p>\n      </ForgotPasswordHeader>\n      {errors && <FormErrors formErrors={errors} />}\n\n      <AuthForm onSubmit={forgotPasswordHandler}>\n        <InputField>\n          <StyledMailOutlineIcon fontSize=\"large\" />\n          <AuthInput\n            type=\"email\"\n            id=\"email\"\n            placeholder=\"Enter email\"\n            value={email}\n            onChange={onEmailChange}\n            required={true}\n          />\n        </InputField>\n        <Field>\n          <AuthButton>Reset my password</AuthButton>\n        </Field>\n        <StyledLink to=\"/\">Sign in</StyledLink>\n      </AuthForm>\n    </>\n  );\n}\n","import React, { useEffect } from \"react\";\n\nimport { ConfirmChangeContainer, StyledLink } from \"../authStyle\";\n\nexport default function ForgotPasswordCheckEmail({ setHeight }) {\n  useEffect(() => {\n    setHeight(375);\n  }, [setHeight]);\n\n  return (\n    <>\n      <ConfirmChangeContainer>\n        <p>Please check your inbox for further instructions</p>\n      </ConfirmChangeContainer>\n      <StyledLink to=\"/\">Sign in</StyledLink>\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport LockIcon from \"@material-ui/icons/Lock\";\n\nimport FormErrors from \"./FormErrors\";\nimport PasswordCheck from \"./PasswordCheck\";\n\nimport {\n  AuthButton,\n  AuthForm,\n  AuthInput,\n  InputField,\n  Field,\n  styleLoginIcon,\n} from \"../authStyle\";\nimport { useDispatch } from \"react-redux\";\nimport { confirmNewPassword } from \"../../../../redux/auth\";\n\nconst StyledLockIcon = styleLoginIcon(LockIcon);\n\nexport default function ForgotPasswordVerify({ history, setHeight }) {\n  const dispatch = useDispatch();\n  const [verificationCode, setVerificationCode] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [errors, setErrors] = useState(null);\n  const [submitEnabled, setSubmitEnabled] = useState(false);\n\n  useEffect(() => {\n    setHeight(540);\n  }, [setHeight]);\n\n  const passwordVerificationHandler = async (e) => {\n    e.preventDefault();\n    setErrors(null);\n    try {\n      await dispatch(confirmNewPassword(verificationCode, newPassword));\n      history.push(\"/changePasswordConfirm\");\n    } catch (error) {\n      setErrors(error.message ? error : { message: error });\n    }\n  };\n\n  const onPasswordChange = (e) => {\n    setErrors(null);\n    setNewPassword(e.target.value);\n  };\n  useEffect(() => {\n    const regex = /Code=[^&]+/gi;\n    const search = window.location.search;\n    const code = search.match(regex)[0].slice(5);\n    setVerificationCode(code);\n  }, []);\n\n  return (\n    <>\n      {errors ? (\n        <FormErrors formErrors={errors} />\n      ) : (\n        <PasswordCheck\n          password={newPassword}\n          onSetSubmitEnabled={setSubmitEnabled}\n        />\n      )}\n\n      <AuthForm onSubmit={passwordVerificationHandler}>\n        <InputField>\n          <StyledLockIcon fontSize=\"large\" />\n          <AuthInput\n            type=\"password\"\n            id=\"newpassword\"\n            placeholder=\"New password\"\n            value={newPassword}\n            onChange={onPasswordChange}\n            required={true}\n          />\n        </InputField>\n        <Field>\n          <AuthButton disabled={!submitEnabled}>Submit</AuthButton>\n        </Field>\n      </AuthForm>\n    </>\n  );\n}\n","import React, { useEffect } from \"react\";\n\nimport { ConfirmChangeContainer, StyledLink } from \"../authStyle\";\n\nexport default function ChangePasswordConfirm({ setHeight }) {\n  useEffect(() => {\n    setHeight(375);\n  }, [setHeight]);\n\n  return (\n    <>\n      <ConfirmChangeContainer>\n        <p>Your password has been successfully updated!</p>\n      </ConfirmChangeContainer>\n      <StyledLink to=\"/\">Sign in</StyledLink>\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport Login from \"./Components/Login\";\nimport Register from \"./Components/Register\";\nimport ForgotPassword from \"./Components/ForgotPassword\";\nimport ForgotPasswordCheckEmail from \"./Components/ForgotPasswordCheckEmail\";\nimport ForgotPasswordVerify from \"./Components/ForgotPasswordVerify\";\nimport ChangePasswordConfirm from \"./Components/ChangePasswordConfirm\";\n\nimport { Container, SubContainer, LogoContainer } from \"./authStyle\";\n\nexport default function AuthMain() {\n  const [height, setHeight] = useState(540);\n  const [slideUp, setSlideUp] = useState(false);\n  return (\n    <Container>\n      <SubContainer height={height} slideUp={slideUp}>\n        <LogoContainer>News Feeds</LogoContainer>\n        <Router>\n          <Switch>\n            <Route\n              exact\n              path=\"/register\"\n              render={(props) => <Register {...props} setHeight={setHeight} />}\n            />\n\n            <Route exact path=\"/forgotPassword\" component={ForgotPassword} />\n            <Route\n              exact\n              path=\"/forgotPasswordCheckEmail\"\n              render={(props) => (\n                <ForgotPasswordCheckEmail {...props} setHeight={setHeight} />\n              )}\n            />\n            <Route\n              exact\n              path=\"/forgotPasswordVerify\"\n              render={(props) => (\n                <ForgotPasswordVerify {...props} setHeight={setHeight} />\n              )}\n            />\n            <Route\n              exact\n              path=\"/changePasswordConfirm\"\n              render={(props) => (\n                <ChangePasswordConfirm {...props} setHeight={setHeight} />\n              )}\n            />\n            <Route\n              render={(props) => (\n                <Login\n                  {...props}\n                  onSuccess={() => setSlideUp(true)}\n                  setHeight={setHeight}\n                />\n              )}\n            />\n          </Switch>\n        </Router>\n      </SubContainer>\n    </Container>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./components/App/App\";\nimport Styling from \"./styling/Styling\";\nimport \"./index.css\";\nimport store from \"./redux/store\";\nimport AuthLayer from \"./components/AuthLayer/AuthLayer\";\n\nReactDOM.render(\n  <Styling>\n    <Provider store={store}>\n      <AuthLayer>\n        <App />\n      </AuthLayer>\n    </Provider>\n  </Styling>,\n  document.getElementById(\"root\")\n);\n","import React from \"react\";\nimport {\n  ThemeProvider as MuiThemeProvider,\n  StylesProvider,\n} from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { makeMuiTheme } from \"./muiDefaultTheme.js\";\nimport { GlobalStyles } from \"./GlobalStyles\";\n\nexport default function Styling({ children }) {\n  const MuiTheme = makeMuiTheme();\n  return (\n    <StylesProvider injectFirst>\n      <MuiThemeProvider theme={MuiTheme}>\n        <GlobalStyles />\n        <CssBaseline />\n        {children}\n      </MuiThemeProvider>\n    </StylesProvider>\n  );\n}\n","import { createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\nexport const makeMuiTheme = () =>\r\n  createMuiTheme({\r\n    palette: {\r\n      primary: {\r\n        main: \"rgb(25,120,216)\",\r\n      },\r\n    },\r\n    overrides: {},\r\n  });\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport AuthMain from \"./Auth/AuthMain\";\r\nimport { authApi } from \"../../api/firebase\";\r\nimport { authorise, deauthorise, setUser } from \"../../redux/auth\";\r\n\r\nexport default function AuthLayer({ children }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const isAuth = useSelector(({ auth }) => auth.isAuth);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const init = useRef(false);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = authApi.onAuthStateChanged((user) => {\r\n      setLoading(false);\r\n      dispatch(setUser(user?.uid));\r\n\r\n      if (init.current && user) {\r\n        //timeout to allow for animation\r\n        setTimeout(() => {\r\n          dispatch(authorise());\r\n        }, 750);\r\n        return;\r\n      }\r\n      if (user) {\r\n        dispatch(authorise());\r\n      } else {\r\n        dispatch(deauthorise());\r\n      }\r\n      init.current = true;\r\n    });\r\n    return unsubscribe;\r\n  }, [dispatch]);\r\n\r\n  return <>{!loading && (!isAuth ? <AuthMain /> : children)}</>;\r\n}\r\n","import React from \"react\";\n\nimport Header from \"./Header/Header\";\nimport NewFeedMenus from \"./NewFeed/NewFeedMenus\";\nimport SiteBody from \"./SiteBody/SiteBody\";\n\nexport default function App() {\n  return (\n    <>\n      <Header />\n      <NewFeedMenus />\n      <SiteBody />\n    </>\n  );\n}\n"],"sourceRoot":""}